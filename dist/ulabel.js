/*! For license information please see ulabel.js.LICENSE.txt */
(()=>{var t={755:function(t,e){var n;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(i,o){"use strict";var a=[],s=Object.getPrototypeOf,r=a.slice,l=a.flat?function(t){return a.flat.call(t)}:function(t){return a.concat.apply([],t)},c=a.push,d=a.indexOf,u={},p=u.toString,h=u.hasOwnProperty,f=h.toString,g=f.call(Object),_={},m=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},v=function(t){return null!=t&&t===t.window},y=i.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function x(t,e,n){var i,o,a=(n=n||y).createElement("script");if(a.text=t,e)for(i in b)(o=e[i]||e.getAttribute&&e.getAttribute(i))&&a.setAttribute(i,o);n.head.appendChild(a).parentNode.removeChild(a)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?u[p.call(t)]||"object":typeof t}var k="3.5.1",T=function(t,e){return new T.fn.init(t,e)};function C(t){var e=!!t&&"length"in t&&t.length,n=w(t);return!m(t)&&!v(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}T.fn=T.prototype={jquery:k,constructor:T,length:0,toArray:function(){return r.call(this)},get:function(t){return null==t?r.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=T.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return T.each(this,t)},map:function(t){return this.pushStack(T.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(T.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(T.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:a.sort,splice:a.splice},T.extend=T.fn.extend=function(){var t,e,n,i,o,a,s=arguments[0]||{},r=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[r]||{},r++),"object"==typeof s||m(s)||(s={}),r===l&&(s=this,r--);r<l;r++)if(null!=(t=arguments[r]))for(e in t)i=t[e],"__proto__"!==e&&s!==i&&(c&&i&&(T.isPlainObject(i)||(o=Array.isArray(i)))?(n=s[e],a=o&&!Array.isArray(n)?[]:o||T.isPlainObject(n)?n:{},o=!1,s[e]=T.extend(c,a,i)):void 0!==i&&(s[e]=i));return s},T.extend({expando:"jQuery"+(k+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==p.call(t)||(e=s(t))&&("function"!=typeof(n=h.call(e,"constructor")&&e.constructor)||f.call(n)!==g))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){x(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(C(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(C(Object(t))?T.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:d.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,a=t.length,s=!n;o<a;o++)!e(t[o],o)!==s&&i.push(t[o]);return i},map:function(t,e,n){var i,o,a=0,s=[];if(C(t))for(i=t.length;a<i;a++)null!=(o=e(t[a],a,n))&&s.push(o);else for(a in t)null!=(o=e(t[a],a,n))&&s.push(o);return l(s)},guid:1,support:_}),"function"==typeof Symbol&&(T.fn[Symbol.iterator]=a[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){u["[object "+e+"]"]=e.toLowerCase()}));var S=function(t){var e,n,i,o,a,s,r,l,c,d,u,p,h,f,g,_,m,v,y,b="sizzle"+1*new Date,x=t.document,w=0,k=0,T=lt(),C=lt(),S=lt(),E=lt(),A=function(t,e){return t===e&&(u=!0),0},D={}.hasOwnProperty,N=[],z=N.pop,L=N.push,j=N.push,O=N.slice,q=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",R="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",P="\\[[\\x20\\t\\r\\n\\f]*("+R+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+I+"*\\]",$=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",H=new RegExp(I+"+","g"),W=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),B=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),F=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),U=new RegExp(I+"|>"),J=new RegExp($),X=new RegExp("^"+R+"$"),Y={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+$),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},V=/HTML$/i,K=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ot=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},at=function(){p()},st=bt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{j.apply(N=O.call(x.childNodes),x.childNodes),N[x.childNodes.length].nodeType}catch(t){j={apply:N.length?function(t,e){L.apply(t,O.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function rt(t,e,i,o){var a,r,c,d,u,f,m,v=e&&e.ownerDocument,x=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==x&&9!==x&&11!==x)return i;if(!o&&(p(e),e=e||h,g)){if(11!==x&&(u=Z.exec(t)))if(a=u[1]){if(9===x){if(!(c=e.getElementById(a)))return i;if(c.id===a)return i.push(c),i}else if(v&&(c=v.getElementById(a))&&y(e,c)&&c.id===a)return i.push(c),i}else{if(u[2])return j.apply(i,e.getElementsByTagName(t)),i;if((a=u[3])&&n.getElementsByClassName&&e.getElementsByClassName)return j.apply(i,e.getElementsByClassName(a)),i}if(n.qsa&&!E[t+" "]&&(!_||!_.test(t))&&(1!==x||"object"!==e.nodeName.toLowerCase())){if(m=t,v=e,1===x&&(U.test(t)||F.test(t))){for((v=tt.test(t)&&mt(e.parentNode)||e)===e&&n.scope||((d=e.getAttribute("id"))?d=d.replace(it,ot):e.setAttribute("id",d=b)),r=(f=s(t)).length;r--;)f[r]=(d?"#"+d:":scope")+" "+yt(f[r]);m=f.join(",")}try{return j.apply(i,v.querySelectorAll(m)),i}catch(e){E(t,!0)}finally{d===b&&e.removeAttribute("id")}}}return l(t.replace(W,"$1"),e,i,o)}function lt(){var t=[];return function e(n,o){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=o}}function ct(t){return t[b]=!0,t}function dt(t){var e=h.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ut(t,e){for(var n=t.split("|"),o=n.length;o--;)i.attrHandle[n[o]]=e}function pt(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&st(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function _t(t){return ct((function(e){return e=+e,ct((function(n,i){for(var o,a=t([],n.length,e),s=a.length;s--;)n[o=a[s]]&&(n[o]=!(i[o]=n[o]))}))}))}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=rt.support={},a=rt.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!V.test(e||n&&n.nodeName||"HTML")},p=rt.setDocument=function(t){var e,o,s=t?t.ownerDocument||t:x;return s!=h&&9===s.nodeType&&s.documentElement?(f=(h=s).documentElement,g=!a(h),x!=h&&(o=h.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",at,!1):o.attachEvent&&o.attachEvent("onunload",at)),n.scope=dt((function(t){return f.appendChild(t).appendChild(h.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),n.attributes=dt((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=dt((function(t){return t.appendChild(h.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=Q.test(h.getElementsByClassName),n.getById=dt((function(t){return f.appendChild(t).id=b,!h.getElementsByName||!h.getElementsByName(b).length})),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,i,o,a=e.getElementById(t);if(a){if((n=a.getAttributeNode("id"))&&n.value===t)return[a];for(o=e.getElementsByName(t),i=0;a=o[i++];)if((n=a.getAttributeNode("id"))&&n.value===t)return[a]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,a=e.getElementsByTagName(t);if("*"===t){for(;n=a[o++];)1===n.nodeType&&i.push(n);return i}return a},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},m=[],_=[],(n.qsa=Q.test(h.querySelectorAll))&&(dt((function(t){var e;f.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&_.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll("[selected]").length||_.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+M+")"),t.querySelectorAll("[id~="+b+"-]").length||_.push("~="),(e=h.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||_.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll(":checked").length||_.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||_.push(".#.+[+~]"),t.querySelectorAll("\\\f"),_.push("[\\r\\n\\f]")})),dt((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=h.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&_.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&_.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&_.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),_.push(",.*:")}))),(n.matchesSelector=Q.test(v=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&dt((function(t){n.disconnectedMatch=v.call(t,"*"),v.call(t,"[s!='']:x"),m.push("!=",$)})),_=_.length&&new RegExp(_.join("|")),m=m.length&&new RegExp(m.join("|")),e=Q.test(f.compareDocumentPosition),y=e||Q.test(f.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},A=e?function(t,e){if(t===e)return u=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t==h||t.ownerDocument==x&&y(x,t)?-1:e==h||e.ownerDocument==x&&y(x,e)?1:d?q(d,t)-q(d,e):0:4&i?-1:1)}:function(t,e){if(t===e)return u=!0,0;var n,i=0,o=t.parentNode,a=e.parentNode,s=[t],r=[e];if(!o||!a)return t==h?-1:e==h?1:o?-1:a?1:d?q(d,t)-q(d,e):0;if(o===a)return pt(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)r.unshift(n);for(;s[i]===r[i];)i++;return i?pt(s[i],r[i]):s[i]==x?-1:r[i]==x?1:0},h):h},rt.matches=function(t,e){return rt(t,null,null,e)},rt.matchesSelector=function(t,e){if(p(t),n.matchesSelector&&g&&!E[e+" "]&&(!m||!m.test(e))&&(!_||!_.test(e)))try{var i=v.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){E(e,!0)}return rt(e,h,null,[t]).length>0},rt.contains=function(t,e){return(t.ownerDocument||t)!=h&&p(t),y(t,e)},rt.attr=function(t,e){(t.ownerDocument||t)!=h&&p(t);var o=i.attrHandle[e.toLowerCase()],a=o&&D.call(i.attrHandle,e.toLowerCase())?o(t,e,!g):void 0;return void 0!==a?a:n.attributes||!g?t.getAttribute(e):(a=t.getAttributeNode(e))&&a.specified?a.value:null},rt.escape=function(t){return(t+"").replace(it,ot)},rt.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},rt.uniqueSort=function(t){var e,i=[],o=0,a=0;if(u=!n.detectDuplicates,d=!n.sortStable&&t.slice(0),t.sort(A),u){for(;e=t[a++];)e===t[a]&&(o=i.push(a));for(;o--;)t.splice(i[o],1)}return d=null,t},o=rt.getText=function(t){var e,n="",i=0,a=t.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===a||4===a)return t.nodeValue}else for(;e=t[i++];)n+=o(e);return n},(i=rt.selectors={cacheLength:50,createPseudo:ct,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||rt.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&rt.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&J.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=T[t+" "];return e||(e=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+t+"("+I+"|$)"))&&T(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var o=rt.attr(i,t);return null==o?"!="===e:!e||(o+="","="===e?o===n:"!="===e?o!==n:"^="===e?n&&0===o.indexOf(n):"*="===e?n&&o.indexOf(n)>-1:"$="===e?n&&o.slice(-n.length)===n:"~="===e?(" "+o.replace(H," ")+" ").indexOf(n)>-1:"|="===e&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,o){var a="nth"!==t.slice(0,3),s="last"!==t.slice(-4),r="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var c,d,u,p,h,f,g=a!==s?"nextSibling":"previousSibling",_=e.parentNode,m=r&&e.nodeName.toLowerCase(),v=!l&&!r,y=!1;if(_){if(a){for(;g;){for(p=e;p=p[g];)if(r?p.nodeName.toLowerCase()===m:1===p.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?_.firstChild:_.lastChild],s&&v){for(y=(h=(c=(d=(u=(p=_)[b]||(p[b]={}))[p.uniqueID]||(u[p.uniqueID]={}))[t]||[])[0]===w&&c[1])&&c[2],p=h&&_.childNodes[h];p=++h&&p&&p[g]||(y=h=0)||f.pop();)if(1===p.nodeType&&++y&&p===e){d[t]=[w,h,y];break}}else if(v&&(y=h=(c=(d=(u=(p=e)[b]||(p[b]={}))[p.uniqueID]||(u[p.uniqueID]={}))[t]||[])[0]===w&&c[1]),!1===y)for(;(p=++h&&p&&p[g]||(y=h=0)||f.pop())&&((r?p.nodeName.toLowerCase()!==m:1!==p.nodeType)||!++y||(v&&((d=(u=p[b]||(p[b]={}))[p.uniqueID]||(u[p.uniqueID]={}))[t]=[w,y]),p!==e)););return(y-=o)===i||y%i==0&&y/i>=0}}},PSEUDO:function(t,e){var n,o=i.pseudos[t]||i.setFilters[t.toLowerCase()]||rt.error("unsupported pseudo: "+t);return o[b]?o(e):o.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?ct((function(t,n){for(var i,a=o(t,e),s=a.length;s--;)t[i=q(t,a[s])]=!(n[i]=a[s])})):function(t){return o(t,0,n)}):o}},pseudos:{not:ct((function(t){var e=[],n=[],i=r(t.replace(W,"$1"));return i[b]?ct((function(t,e,n,o){for(var a,s=i(t,null,o,[]),r=t.length;r--;)(a=s[r])&&(t[r]=!(e[r]=a))})):function(t,o,a){return e[0]=t,i(e,null,a,n),e[0]=null,!n.pop()}})),has:ct((function(t){return function(e){return rt(t,e).length>0}})),contains:ct((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||o(e)).indexOf(t)>-1}})),lang:ct((function(t){return X.test(t||"")||rt.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return G.test(t.nodeName)},input:function(t){return K.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:_t((function(){return[0]})),last:_t((function(t,e){return[e-1]})),eq:_t((function(t,e,n){return[n<0?n+e:n]})),even:_t((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:_t((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:_t((function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:_t((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ft(e);function vt(){}function yt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function bt(t,e,n){var i=e.dir,o=e.next,a=o||i,s=n&&"parentNode"===a,r=k++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,o);return!1}:function(e,n,l){var c,d,u,p=[w,r];if(l){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(d=(u=e[b]||(e[b]={}))[e.uniqueID]||(u[e.uniqueID]={}),o&&o===e.nodeName.toLowerCase())e=e[i]||e;else{if((c=d[a])&&c[0]===w&&c[1]===r)return p[2]=c[2];if(d[a]=p,p[2]=t(e,n,l))return!0}return!1}}function xt(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function wt(t,e,n,i,o){for(var a,s=[],r=0,l=t.length,c=null!=e;r<l;r++)(a=t[r])&&(n&&!n(a,i,o)||(s.push(a),c&&e.push(r)));return s}function kt(t,e,n,i,o,a){return i&&!i[b]&&(i=kt(i)),o&&!o[b]&&(o=kt(o,a)),ct((function(a,s,r,l){var c,d,u,p=[],h=[],f=s.length,g=a||function(t,e,n){for(var i=0,o=e.length;i<o;i++)rt(t,e[i],n);return n}(e||"*",r.nodeType?[r]:r,[]),_=!t||!a&&e?g:wt(g,p,t,r,l),m=n?o||(a?t:f||i)?[]:s:_;if(n&&n(_,m,r,l),i)for(c=wt(m,h),i(c,[],r,l),d=c.length;d--;)(u=c[d])&&(m[h[d]]=!(_[h[d]]=u));if(a){if(o||t){if(o){for(c=[],d=m.length;d--;)(u=m[d])&&c.push(_[d]=u);o(null,m=[],c,l)}for(d=m.length;d--;)(u=m[d])&&(c=o?q(a,u):p[d])>-1&&(a[c]=!(s[c]=u))}}else m=wt(m===s?m.splice(f,m.length):m),o?o(null,s,m,l):j.apply(s,m)}))}function Tt(t){for(var e,n,o,a=t.length,s=i.relative[t[0].type],r=s||i.relative[" "],l=s?1:0,d=bt((function(t){return t===e}),r,!0),u=bt((function(t){return q(e,t)>-1}),r,!0),p=[function(t,n,i){var o=!s&&(i||n!==c)||((e=n).nodeType?d(t,n,i):u(t,n,i));return e=null,o}];l<a;l++)if(n=i.relative[t[l].type])p=[bt(xt(p),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[b]){for(o=++l;o<a&&!i.relative[t[o].type];o++);return kt(l>1&&xt(p),l>1&&yt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(W,"$1"),n,l<o&&Tt(t.slice(l,o)),o<a&&Tt(t=t.slice(o)),o<a&&yt(t))}p.push(n)}return xt(p)}return vt.prototype=i.filters=i.pseudos,i.setFilters=new vt,s=rt.tokenize=function(t,e){var n,o,a,s,r,l,c,d=C[t+" "];if(d)return e?0:d.slice(0);for(r=t,l=[],c=i.preFilter;r;){for(s in n&&!(o=B.exec(r))||(o&&(r=r.slice(o[0].length)||r),l.push(a=[])),n=!1,(o=F.exec(r))&&(n=o.shift(),a.push({value:n,type:o[0].replace(W," ")}),r=r.slice(n.length)),i.filter)!(o=Y[s].exec(r))||c[s]&&!(o=c[s](o))||(n=o.shift(),a.push({value:n,type:s,matches:o}),r=r.slice(n.length));if(!n)break}return e?r.length:r?rt.error(t):C(t,l).slice(0)},r=rt.compile=function(t,e){var n,o=[],a=[],r=S[t+" "];if(!r){for(e||(e=s(t)),n=e.length;n--;)(r=Tt(e[n]))[b]?o.push(r):a.push(r);(r=S(t,function(t,e){var n=e.length>0,o=t.length>0,a=function(a,s,r,l,d){var u,f,_,m=0,v="0",y=a&&[],b=[],x=c,k=a||o&&i.find.TAG("*",d),T=w+=null==x?1:Math.random()||.1,C=k.length;for(d&&(c=s==h||s||d);v!==C&&null!=(u=k[v]);v++){if(o&&u){for(f=0,s||u.ownerDocument==h||(p(u),r=!g);_=t[f++];)if(_(u,s||h,r)){l.push(u);break}d&&(w=T)}n&&((u=!_&&u)&&m--,a&&y.push(u))}if(m+=v,n&&v!==m){for(f=0;_=e[f++];)_(y,b,s,r);if(a){if(m>0)for(;v--;)y[v]||b[v]||(b[v]=z.call(l));b=wt(b)}j.apply(l,b),d&&!a&&b.length>0&&m+e.length>1&&rt.uniqueSort(l)}return d&&(w=T,c=x),y};return n?ct(a):a}(a,o))).selector=t}return r},l=rt.select=function(t,e,n,o){var a,l,c,d,u,p="function"==typeof t&&t,h=!o&&s(t=p.selector||t);if(n=n||[],1===h.length){if((l=h[0]=h[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===e.nodeType&&g&&i.relative[l[1].type]){if(!(e=(i.find.ID(c.matches[0].replace(et,nt),e)||[])[0]))return n;p&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(a=Y.needsContext.test(t)?0:l.length;a--&&(c=l[a],!i.relative[d=c.type]);)if((u=i.find[d])&&(o=u(c.matches[0].replace(et,nt),tt.test(l[0].type)&&mt(e.parentNode)||e))){if(l.splice(a,1),!(t=o.length&&yt(l)))return j.apply(n,o),n;break}}return(p||r(t,h))(o,e,!g,n,!e||tt.test(t)&&mt(e.parentNode)||e),n},n.sortStable=b.split("").sort(A).join("")===b,n.detectDuplicates=!!u,p(),n.sortDetached=dt((function(t){return 1&t.compareDocumentPosition(h.createElement("fieldset"))})),dt((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ut("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&dt((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ut("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),dt((function(t){return null==t.getAttribute("disabled")}))||ut(M,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),rt}(i);T.find=S,T.expr=S.selectors,T.expr[":"]=T.expr.pseudos,T.uniqueSort=T.unique=S.uniqueSort,T.text=S.getText,T.isXMLDoc=S.isXML,T.contains=S.contains,T.escapeSelector=S.escape;var E=function(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&T(t).is(n))break;i.push(t)}return i},A=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},D=T.expr.match.needsContext;function N(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var z=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(t,e,n){return m(e)?T.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?T.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?T.grep(t,(function(t){return d.call(e,t)>-1!==n})):T.filter(e,t,n)}T.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?T.find.matchesSelector(i,t)?[i]:[]:T.find.matches(t,T.grep(e,(function(t){return 1===t.nodeType})))},T.fn.extend({find:function(t){var e,n,i=this.length,o=this;if("string"!=typeof t)return this.pushStack(T(t).filter((function(){for(e=0;e<i;e++)if(T.contains(o[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)T.find(t,o[e],n);return i>1?T.uniqueSort(n):n},filter:function(t){return this.pushStack(L(this,t||[],!1))},not:function(t){return this.pushStack(L(this,t||[],!0))},is:function(t){return!!L(this,"string"==typeof t&&D.test(t)?T(t):t||[],!1).length}});var j,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(T.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||j,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:O.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof T?e[0]:e,T.merge(this,T.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:y,!0)),z.test(i[1])&&T.isPlainObject(e))for(i in e)m(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(o=y.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==n.ready?n.ready(t):t(T):T.makeArray(t,this)}).prototype=T.fn,j=T(y);var q=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function I(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}T.fn.extend({has:function(t){var e=T(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(T.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,o=this.length,a=[],s="string"!=typeof t&&T(t);if(!D.test(t))for(;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&T.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(a.length>1?T.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?d.call(T(t),this[0]):d.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),T.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return E(t,"parentNode")},parentsUntil:function(t,e,n){return E(t,"parentNode",n)},next:function(t){return I(t,"nextSibling")},prev:function(t){return I(t,"previousSibling")},nextAll:function(t){return E(t,"nextSibling")},prevAll:function(t){return E(t,"previousSibling")},nextUntil:function(t,e,n){return E(t,"nextSibling",n)},prevUntil:function(t,e,n){return E(t,"previousSibling",n)},siblings:function(t){return A((t.parentNode||{}).firstChild,t)},children:function(t){return A(t.firstChild)},contents:function(t){return null!=t.contentDocument&&s(t.contentDocument)?t.contentDocument:(N(t,"template")&&(t=t.content||t),T.merge([],t.childNodes))}},(function(t,e){T.fn[t]=function(n,i){var o=T.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=T.filter(i,o)),this.length>1&&(M[t]||T.uniqueSort(o),q.test(t)&&o.reverse()),this.pushStack(o)}}));var R=/[^\x20\t\r\n\f]+/g;function P(t){return t}function $(t){throw t}function H(t,e,n,i){var o;try{t&&m(o=t.promise)?o.call(t).done(e).fail(n):t&&m(o=t.then)?o.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}T.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return T.each(t.match(R)||[],(function(t,n){e[n]=!0})),e}(t):T.extend({},t);var e,n,i,o,a=[],s=[],r=-1,l=function(){for(o=o||t.once,i=e=!0;s.length;r=-1)for(n=s.shift();++r<a.length;)!1===a[r].apply(n[0],n[1])&&t.stopOnFalse&&(r=a.length,n=!1);t.memory||(n=!1),e=!1,o&&(a=n?[]:"")},c={add:function(){return a&&(n&&!e&&(r=a.length-1,s.push(n)),function e(n){T.each(n,(function(n,i){m(i)?t.unique&&c.has(i)||a.push(i):i&&i.length&&"string"!==w(i)&&e(i)}))}(arguments),n&&!e&&l()),this},remove:function(){return T.each(arguments,(function(t,e){for(var n;(n=T.inArray(e,a,n))>-1;)a.splice(n,1),n<=r&&r--})),this},has:function(t){return t?T.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return o=s=[],n||e||(a=n=""),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},T.extend({Deferred:function(t){var e=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return T.Deferred((function(n){T.each(e,(function(e,i){var o=m(t[i[4]])&&t[i[4]];a[i[1]]((function(){var t=o&&o.apply(this,arguments);t&&m(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,o?[t]:arguments)}))})),t=null})).promise()},then:function(t,n,o){var a=0;function s(t,e,n,o){return function(){var r=this,l=arguments,c=function(){var i,c;if(!(t<a)){if((i=n.apply(r,l))===e.promise())throw new TypeError("Thenable self-resolution");c=i&&("object"==typeof i||"function"==typeof i)&&i.then,m(c)?o?c.call(i,s(a,e,P,o),s(a,e,$,o)):(a++,c.call(i,s(a,e,P,o),s(a,e,$,o),s(a,e,P,e.notifyWith))):(n!==P&&(r=void 0,l=[i]),(o||e.resolveWith)(r,l))}},d=o?c:function(){try{c()}catch(i){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(i,d.stackTrace),t+1>=a&&(n!==$&&(r=void 0,l=[i]),e.rejectWith(r,l))}};t?d():(T.Deferred.getStackHook&&(d.stackTrace=T.Deferred.getStackHook()),i.setTimeout(d))}}return T.Deferred((function(i){e[0][3].add(s(0,i,m(o)?o:P,i.notifyWith)),e[1][3].add(s(0,i,m(t)?t:P)),e[2][3].add(s(0,i,m(n)?n:$))})).promise()},promise:function(t){return null!=t?T.extend(t,o):o}},a={};return T.each(e,(function(t,i){var s=i[2],r=i[5];o[i[1]]=s.add,r&&s.add((function(){n=r}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(i[3].fire),a[i[0]]=function(){return a[i[0]+"With"](this===a?void 0:this,arguments),this},a[i[0]+"With"]=s.fireWith})),o.promise(a),t&&t.call(a,a),a},when:function(t){var e=arguments.length,n=e,i=Array(n),o=r.call(arguments),a=T.Deferred(),s=function(t){return function(n){i[t]=this,o[t]=arguments.length>1?r.call(arguments):n,--e||a.resolveWith(i,o)}};if(e<=1&&(H(t,a.done(s(n)).resolve,a.reject,!e),"pending"===a.state()||m(o[n]&&o[n].then)))return a.then();for(;n--;)H(o[n],s(n),a.reject);return a.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(t,e){i.console&&i.console.warn&&t&&W.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},T.readyException=function(t){i.setTimeout((function(){throw t}))};var B=T.Deferred();function F(){y.removeEventListener("DOMContentLoaded",F),i.removeEventListener("load",F),T.ready()}T.fn.ready=function(t){return B.then(t).catch((function(t){T.readyException(t)})),this},T.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--T.readyWait:T.isReady)||(T.isReady=!0,!0!==t&&--T.readyWait>0||B.resolveWith(y,[T]))}}),T.ready.then=B.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?i.setTimeout(T.ready):(y.addEventListener("DOMContentLoaded",F),i.addEventListener("load",F));var U=function(t,e,n,i,o,a,s){var r=0,l=t.length,c=null==n;if("object"===w(n))for(r in o=!0,n)U(t,e,r,n[r],!0,a,s);else if(void 0!==i&&(o=!0,m(i)||(s=!0),c&&(s?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(T(t),n)})),e))for(;r<l;r++)e(t[r],n,s?i:i.call(t[r],r,e(t[r],n)));return o?t:c?e.call(t):l?e(t[0],n):a},J=/^-ms-/,X=/-([a-z])/g;function Y(t,e){return e.toUpperCase()}function V(t){return t.replace(J,"ms-").replace(X,Y)}var K=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function G(){this.expando=T.expando+G.uid++}G.uid=1,G.prototype={cache:function(t){var e=t[this.expando];return e||(e={},K(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,o=this.cache(t);if("string"==typeof e)o[V(e)]=n;else for(i in e)o[V(i)]=e[i];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][V(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(V):(e=V(e))in i?[e]:e.match(R)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||T.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!T.isEmptyObject(e)}};var Q=new G,Z=new G,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}Z.set(t,e,n)}else n=void 0;return n}T.extend({hasData:function(t){return Z.hasData(t)||Q.hasData(t)},data:function(t,e,n){return Z.access(t,e,n)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,n){return Q.access(t,e,n)},_removeData:function(t,e){Q.remove(t,e)}}),T.fn.extend({data:function(t,e){var n,i,o,a=this[0],s=a&&a.attributes;if(void 0===t){if(this.length&&(o=Z.get(a),1===a.nodeType&&!Q.get(a,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=V(i.slice(5)),nt(a,i,o[i]));Q.set(a,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each((function(){Z.set(this,t)})):U(this,(function(e){var n;if(a&&void 0===e)return void 0!==(n=Z.get(a,t))||void 0!==(n=nt(a,t))?n:void 0;this.each((function(){Z.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Z.remove(this,t)}))}}),T.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Q.get(t,e),n&&(!i||Array.isArray(n)?i=Q.access(t,e,T.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=T.queue(t,e),i=n.length,o=n.shift(),a=T._queueHooks(t,e);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete a.stop,o.call(t,(function(){T.dequeue(t,e)}),a)),!i&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Q.get(t,n)||Q.access(t,n,{empty:T.Callbacks("once memory").add((function(){Q.remove(t,[e+"queue",n])}))})}}),T.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?T.queue(this[0],t):void 0===e?this:this.each((function(){var n=T.queue(this,t,e);T._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&T.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){T.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=T.Deferred(),a=this,s=this.length,r=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=Q.get(a[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(r));return r(),o.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ot=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),at=["Top","Right","Bottom","Left"],st=y.documentElement,rt=function(t){return T.contains(t.ownerDocument,t)},lt={composed:!0};st.getRootNode&&(rt=function(t){return T.contains(t.ownerDocument,t)||t.getRootNode(lt)===t.ownerDocument});var ct=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&rt(t)&&"none"===T.css(t,"display")};function dt(t,e,n,i){var o,a,s=20,r=i?function(){return i.cur()}:function(){return T.css(t,e,"")},l=r(),c=n&&n[3]||(T.cssNumber[e]?"":"px"),d=t.nodeType&&(T.cssNumber[e]||"px"!==c&&+l)&&ot.exec(T.css(t,e));if(d&&d[3]!==c){for(l/=2,c=c||d[3],d=+l||1;s--;)T.style(t,e,d+c),(1-a)*(1-(a=r()/l||.5))<=0&&(s=0),d/=a;d*=2,T.style(t,e,d+c),n=n||[]}return n&&(d=+d||+l||0,o=n[1]?d+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=d,i.end=o)),o}var ut={};function pt(t){var e,n=t.ownerDocument,i=t.nodeName,o=ut[i];return o||(e=n.body.appendChild(n.createElement(i)),o=T.css(e,"display"),e.parentNode.removeChild(e),"none"===o&&(o="block"),ut[i]=o,o)}function ht(t,e){for(var n,i,o=[],a=0,s=t.length;a<s;a++)(i=t[a]).style&&(n=i.style.display,e?("none"===n&&(o[a]=Q.get(i,"display")||null,o[a]||(i.style.display="")),""===i.style.display&&ct(i)&&(o[a]=pt(i))):"none"!==n&&(o[a]="none",Q.set(i,"display",n)));for(a=0;a<s;a++)null!=o[a]&&(t[a].style.display=o[a]);return t}T.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){ct(this)?T(this).show():T(this).hide()}))}});var ft,gt,_t=/^(?:checkbox|radio)$/i,mt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,vt=/^$|^module$|\/(?:java|ecma)script/i;ft=y.createDocumentFragment().appendChild(y.createElement("div")),(gt=y.createElement("input")).setAttribute("type","radio"),gt.setAttribute("checked","checked"),gt.setAttribute("name","t"),ft.appendChild(gt),_.checkClone=ft.cloneNode(!0).cloneNode(!0).lastChild.checked,ft.innerHTML="<textarea>x</textarea>",_.noCloneChecked=!!ft.cloneNode(!0).lastChild.defaultValue,ft.innerHTML="<option></option>",_.option=!!ft.lastChild;var yt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function bt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&N(t,e)?T.merge([t],n):n}function xt(t,e){for(var n=0,i=t.length;n<i;n++)Q.set(t[n],"globalEval",!e||Q.get(e[n],"globalEval"))}yt.tbody=yt.tfoot=yt.colgroup=yt.caption=yt.thead,yt.th=yt.td,_.option||(yt.optgroup=yt.option=[1,"<select multiple='multiple'>","</select>"]);var wt=/<|&#?\w+;/;function kt(t,e,n,i,o){for(var a,s,r,l,c,d,u=e.createDocumentFragment(),p=[],h=0,f=t.length;h<f;h++)if((a=t[h])||0===a)if("object"===w(a))T.merge(p,a.nodeType?[a]:a);else if(wt.test(a)){for(s=s||u.appendChild(e.createElement("div")),r=(mt.exec(a)||["",""])[1].toLowerCase(),l=yt[r]||yt._default,s.innerHTML=l[1]+T.htmlPrefilter(a)+l[2],d=l[0];d--;)s=s.lastChild;T.merge(p,s.childNodes),(s=u.firstChild).textContent=""}else p.push(e.createTextNode(a));for(u.textContent="",h=0;a=p[h++];)if(i&&T.inArray(a,i)>-1)o&&o.push(a);else if(c=rt(a),s=bt(u.appendChild(a),"script"),c&&xt(s),n)for(d=0;a=s[d++];)vt.test(a.type||"")&&n.push(a);return u}var Tt=/^key/,Ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,St=/^([^.]*)(?:\.(.+)|)/;function Et(){return!0}function At(){return!1}function Dt(t,e){return t===function(){try{return y.activeElement}catch(t){}}()==("focus"===e)}function Nt(t,e,n,i,o,a){var s,r;if("object"==typeof e){for(r in"string"!=typeof n&&(i=i||n,n=void 0),e)Nt(t,r,n,i,e[r],a);return t}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=At;else if(!o)return t;return 1===a&&(s=o,(o=function(t){return T().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=T.guid++)),t.each((function(){T.event.add(this,e,o,i,n)}))}function zt(t,e,n){n?(Q.set(t,e,!1),T.event.add(t,e,{namespace:!1,handler:function(t){var i,o,a=Q.get(this,e);if(1&t.isTrigger&&this[e]){if(a.length)(T.event.special[e]||{}).delegateType&&t.stopPropagation();else if(a=r.call(arguments),Q.set(this,e,a),i=n(this,e),this[e](),a!==(o=Q.get(this,e))||i?Q.set(this,e,!1):o={},a!==o)return t.stopImmediatePropagation(),t.preventDefault(),o.value}else a.length&&(Q.set(this,e,{value:T.event.trigger(T.extend(a[0],T.Event.prototype),a.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Q.get(t,e)&&T.event.add(t,e,Et)}T.event={global:{},add:function(t,e,n,i,o){var a,s,r,l,c,d,u,p,h,f,g,_=Q.get(t);if(K(t))for(n.handler&&(n=(a=n).handler,o=a.selector),o&&T.find.matchesSelector(st,o),n.guid||(n.guid=T.guid++),(l=_.events)||(l=_.events=Object.create(null)),(s=_.handle)||(s=_.handle=function(e){return void 0!==T&&T.event.triggered!==e.type?T.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(R)||[""]).length;c--;)h=g=(r=St.exec(e[c])||[])[1],f=(r[2]||"").split(".").sort(),h&&(u=T.event.special[h]||{},h=(o?u.delegateType:u.bindType)||h,u=T.event.special[h]||{},d=T.extend({type:h,origType:g,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&T.expr.match.needsContext.test(o),namespace:f.join(".")},a),(p=l[h])||((p=l[h]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,i,f,s)||t.addEventListener&&t.addEventListener(h,s)),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,d):p.push(d),T.event.global[h]=!0)},remove:function(t,e,n,i,o){var a,s,r,l,c,d,u,p,h,f,g,_=Q.hasData(t)&&Q.get(t);if(_&&(l=_.events)){for(c=(e=(e||"").match(R)||[""]).length;c--;)if(h=g=(r=St.exec(e[c])||[])[1],f=(r[2]||"").split(".").sort(),h){for(u=T.event.special[h]||{},p=l[h=(i?u.delegateType:u.bindType)||h]||[],r=r[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=a=p.length;a--;)d=p[a],!o&&g!==d.origType||n&&n.guid!==d.guid||r&&!r.test(d.namespace)||i&&i!==d.selector&&("**"!==i||!d.selector)||(p.splice(a,1),d.selector&&p.delegateCount--,u.remove&&u.remove.call(t,d));s&&!p.length&&(u.teardown&&!1!==u.teardown.call(t,f,_.handle)||T.removeEvent(t,h,_.handle),delete l[h])}else for(h in l)T.event.remove(t,h+e[c],n,i,!0);T.isEmptyObject(l)&&Q.remove(t,"handle events")}},dispatch:function(t){var e,n,i,o,a,s,r=new Array(arguments.length),l=T.event.fix(t),c=(Q.get(this,"events")||Object.create(null))[l.type]||[],d=T.event.special[l.type]||{};for(r[0]=l,e=1;e<arguments.length;e++)r[e]=arguments[e];if(l.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,l)){for(s=T.event.handlers.call(this,l,c),e=0;(o=s[e++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,n=0;(a=o.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==a.namespace&&!l.rnamespace.test(a.namespace)||(l.handleObj=a,l.data=a.data,void 0!==(i=((T.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,r))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,i,o,a,s,r=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(a=[],s={},n=0;n<l;n++)void 0===s[o=(i=e[n]).selector+" "]&&(s[o]=i.needsContext?T(o,this).index(c)>-1:T.find(o,this,null,[c]).length),s[o]&&a.push(i);a.length&&r.push({elem:c,handlers:a})}return c=this,l<e.length&&r.push({elem:c,handlers:e.slice(l)}),r},addProp:function(t,e){Object.defineProperty(T.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[T.expando]?t:new T.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return _t.test(e.type)&&e.click&&N(e,"input")&&zt(e,"click",Et),!1},trigger:function(t){var e=this||t;return _t.test(e.type)&&e.click&&N(e,"input")&&zt(e,"click"),!0},_default:function(t){var e=t.target;return _t.test(e.type)&&e.click&&N(e,"input")&&Q.get(e,"click")||N(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},T.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},T.Event=function(t,e){if(!(this instanceof T.Event))return new T.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Et:At,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&T.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:At,isPropagationStopped:At,isImmediatePropagationStopped:At,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Et,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Et,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Et,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Tt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Ct.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},T.event.addProp),T.each({focus:"focusin",blur:"focusout"},(function(t,e){T.event.special[t]={setup:function(){return zt(this,t,Dt),!1},trigger:function(){return zt(this,t),!0},delegateType:e}})),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){T.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,a=t.handleObj;return o&&(o===i||T.contains(i,o))||(t.type=a.origType,n=a.handler.apply(this,arguments),t.type=e),n}}})),T.fn.extend({on:function(t,e,n,i){return Nt(this,t,e,n,i)},one:function(t,e,n,i){return Nt(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,T(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=At),this.each((function(){T.event.remove(this,t,n,e)}))}});var Lt=/<script|<style|<link/i,jt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function qt(t,e){return N(t,"table")&&N(11!==e.nodeType?e:e.firstChild,"tr")&&T(t).children("tbody")[0]||t}function Mt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function It(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Rt(t,e){var n,i,o,a,s,r;if(1===e.nodeType){if(Q.hasData(t)&&(r=Q.get(t).events))for(o in Q.remove(e,"handle events"),r)for(n=0,i=r[o].length;n<i;n++)T.event.add(e,o,r[o][n]);Z.hasData(t)&&(a=Z.access(t),s=T.extend({},a),Z.set(e,s))}}function Pt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&_t.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function $t(t,e,n,i){e=l(e);var o,a,s,r,c,d,u=0,p=t.length,h=p-1,f=e[0],g=m(f);if(g||p>1&&"string"==typeof f&&!_.checkClone&&jt.test(f))return t.each((function(o){var a=t.eq(o);g&&(e[0]=f.call(this,o,a.html())),$t(a,e,n,i)}));if(p&&(a=(o=kt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===o.childNodes.length&&(o=a),a||i)){for(r=(s=T.map(bt(o,"script"),Mt)).length;u<p;u++)c=o,u!==h&&(c=T.clone(c,!0,!0),r&&T.merge(s,bt(c,"script"))),n.call(t[u],c,u);if(r)for(d=s[s.length-1].ownerDocument,T.map(s,It),u=0;u<r;u++)c=s[u],vt.test(c.type||"")&&!Q.access(c,"globalEval")&&T.contains(d,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?T._evalUrl&&!c.noModule&&T._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},d):x(c.textContent.replace(Ot,""),c,d))}return t}function Ht(t,e,n){for(var i,o=e?T.filter(e,t):t,a=0;null!=(i=o[a]);a++)n||1!==i.nodeType||T.cleanData(bt(i)),i.parentNode&&(n&&rt(i)&&xt(bt(i,"script")),i.parentNode.removeChild(i));return t}T.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,o,a,s,r=t.cloneNode(!0),l=rt(t);if(!(_.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||T.isXMLDoc(t)))for(s=bt(r),i=0,o=(a=bt(t)).length;i<o;i++)Pt(a[i],s[i]);if(e)if(n)for(a=a||bt(t),s=s||bt(r),i=0,o=a.length;i<o;i++)Rt(a[i],s[i]);else Rt(t,r);return(s=bt(r,"script")).length>0&&xt(s,!l&&bt(t,"script")),r},cleanData:function(t){for(var e,n,i,o=T.event.special,a=0;void 0!==(n=t[a]);a++)if(K(n)){if(e=n[Q.expando]){if(e.events)for(i in e.events)o[i]?T.event.remove(n,i):T.removeEvent(n,i,e.handle);n[Q.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),T.fn.extend({detach:function(t){return Ht(this,t,!0)},remove:function(t){return Ht(this,t)},text:function(t){return U(this,(function(t){return void 0===t?T.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return $t(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||qt(this,t).appendChild(t)}))},prepend:function(){return $t(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=qt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return $t(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return $t(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(T.cleanData(bt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return T.clone(this,t,e)}))},html:function(t){return U(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Lt.test(t)&&!yt[(mt.exec(t)||["",""])[1].toLowerCase()]){t=T.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(T.cleanData(bt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return $t(this,arguments,(function(e){var n=this.parentNode;T.inArray(this,t)<0&&(T.cleanData(bt(this)),n&&n.replaceChild(e,this))}),t)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){T.fn[t]=function(t){for(var n,i=[],o=T(t),a=o.length-1,s=0;s<=a;s++)n=s===a?this:this.clone(!0),T(o[s])[e](n),c.apply(i,n.get());return this.pushStack(i)}}));var Wt=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),Bt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)},Ft=function(t,e,n){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in i=n.call(t),e)t.style[o]=a[o];return i},Ut=new RegExp(at.join("|"),"i");function Jt(t,e,n){var i,o,a,s,r=t.style;return(n=n||Bt(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||rt(t)||(s=T.style(t,e)),!_.pixelBoxStyles()&&Wt.test(s)&&Ut.test(e)&&(i=r.width,o=r.minWidth,a=r.maxWidth,r.minWidth=r.maxWidth=r.width=s,s=n.width,r.width=i,r.minWidth=o,r.maxWidth=a)),void 0!==s?s+"":s}function Xt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(d){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",st.appendChild(c).appendChild(d);var t=i.getComputedStyle(d);n="1%"!==t.top,l=12===e(t.marginLeft),d.style.right="60%",s=36===e(t.right),o=36===e(t.width),d.style.position="absolute",a=12===e(d.offsetWidth/3),st.removeChild(c),d=null}}function e(t){return Math.round(parseFloat(t))}var n,o,a,s,r,l,c=y.createElement("div"),d=y.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",_.clearCloneStyle="content-box"===d.style.backgroundClip,T.extend(_,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),a},reliableTrDimensions:function(){var t,e,n,o;return null==r&&(t=y.createElement("table"),e=y.createElement("tr"),n=y.createElement("div"),t.style.cssText="position:absolute;left:-11111px",e.style.height="1px",n.style.height="9px",st.appendChild(t).appendChild(e).appendChild(n),o=i.getComputedStyle(e),r=parseInt(o.height)>3,st.removeChild(t)),r}}))}();var Yt=["Webkit","Moz","ms"],Vt=y.createElement("div").style,Kt={};function Gt(t){return T.cssProps[t]||Kt[t]||(t in Vt?t:Kt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Yt.length;n--;)if((t=Yt[n]+e)in Vt)return t}(t)||t)}var Qt=/^(none|table(?!-c[ea]).+)/,Zt=/^--/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"};function ne(t,e,n){var i=ot.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function ie(t,e,n,i,o,a){var s="width"===e?1:0,r=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=T.css(t,n+at[s],!0,o)),i?("content"===n&&(l-=T.css(t,"padding"+at[s],!0,o)),"margin"!==n&&(l-=T.css(t,"border"+at[s]+"Width",!0,o))):(l+=T.css(t,"padding"+at[s],!0,o),"padding"!==n?l+=T.css(t,"border"+at[s]+"Width",!0,o):r+=T.css(t,"border"+at[s]+"Width",!0,o));return!i&&a>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-a-l-r-.5))||0),l}function oe(t,e,n){var i=Bt(t),o=(!_.boxSizingReliable()||n)&&"border-box"===T.css(t,"boxSizing",!1,i),a=o,s=Jt(t,e,i),r="offset"+e[0].toUpperCase()+e.slice(1);if(Wt.test(s)){if(!n)return s;s="auto"}return(!_.boxSizingReliable()&&o||!_.reliableTrDimensions()&&N(t,"tr")||"auto"===s||!parseFloat(s)&&"inline"===T.css(t,"display",!1,i))&&t.getClientRects().length&&(o="border-box"===T.css(t,"boxSizing",!1,i),(a=r in t)&&(s=t[r])),(s=parseFloat(s)||0)+ie(t,e,n||(o?"border":"content"),a,i,s)+"px"}function ae(t,e,n,i,o){return new ae.prototype.init(t,e,n,i,o)}T.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Jt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,a,s,r=V(e),l=Zt.test(e),c=t.style;if(l||(e=Gt(r)),s=T.cssHooks[e]||T.cssHooks[r],void 0===n)return s&&"get"in s&&void 0!==(o=s.get(t,!1,i))?o:c[e];"string"==(a=typeof n)&&(o=ot.exec(n))&&o[1]&&(n=dt(t,e,o),a="number"),null!=n&&n==n&&("number"!==a||l||(n+=o&&o[3]||(T.cssNumber[r]?"":"px")),_.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,i){var o,a,s,r=V(e);return Zt.test(e)||(e=Gt(r)),(s=T.cssHooks[e]||T.cssHooks[r])&&"get"in s&&(o=s.get(t,!0,n)),void 0===o&&(o=Jt(t,e,i)),"normal"===o&&e in ee&&(o=ee[e]),""===n||n?(a=parseFloat(o),!0===n||isFinite(a)?a||0:o):o}}),T.each(["height","width"],(function(t,e){T.cssHooks[e]={get:function(t,n,i){if(n)return!Qt.test(T.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?oe(t,e,i):Ft(t,te,(function(){return oe(t,e,i)}))},set:function(t,n,i){var o,a=Bt(t),s=!_.scrollboxSize()&&"absolute"===a.position,r=(s||i)&&"border-box"===T.css(t,"boxSizing",!1,a),l=i?ie(t,e,i,r,a):0;return r&&s&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(a[e])-ie(t,e,"border",!1,a)-.5)),l&&(o=ot.exec(n))&&"px"!==(o[3]||"px")&&(t.style[e]=n,n=T.css(t,e)),ne(0,n,l)}}})),T.cssHooks.marginLeft=Xt(_.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Jt(t,"marginLeft"))||t.getBoundingClientRect().left-Ft(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),T.each({margin:"",padding:"",border:"Width"},(function(t,e){T.cssHooks[t+e]={expand:function(n){for(var i=0,o={},a="string"==typeof n?n.split(" "):[n];i<4;i++)o[t+at[i]+e]=a[i]||a[i-2]||a[0];return o}},"margin"!==t&&(T.cssHooks[t+e].set=ne)})),T.fn.extend({css:function(t,e){return U(this,(function(t,e,n){var i,o,a={},s=0;if(Array.isArray(e)){for(i=Bt(t),o=e.length;s<o;s++)a[e[s]]=T.css(t,e[s],!1,i);return a}return void 0!==n?T.style(t,e,n):T.css(t,e)}),t,e,arguments.length>1)}}),T.Tween=ae,ae.prototype={constructor:ae,init:function(t,e,n,i,o,a){this.elem=t,this.prop=n,this.easing=o||T.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=a||(T.cssNumber[n]?"":"px")},cur:function(){var t=ae.propHooks[this.prop];return t&&t.get?t.get(this):ae.propHooks._default.get(this)},run:function(t){var e,n=ae.propHooks[this.prop];return this.options.duration?this.pos=e=T.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ae.propHooks._default.set(this),this}},ae.prototype.init.prototype=ae.prototype,ae.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=T.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){T.fx.step[t.prop]?T.fx.step[t.prop](t):1!==t.elem.nodeType||!T.cssHooks[t.prop]&&null==t.elem.style[Gt(t.prop)]?t.elem[t.prop]=t.now:T.style(t.elem,t.prop,t.now+t.unit)}}},ae.propHooks.scrollTop=ae.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},T.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},T.fx=ae.prototype.init,T.fx.step={};var se,re,le=/^(?:toggle|show|hide)$/,ce=/queueHooks$/;function de(){re&&(!1===y.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(de):i.setTimeout(de,T.fx.interval),T.fx.tick())}function ue(){return i.setTimeout((function(){se=void 0})),se=Date.now()}function pe(t,e){var n,i=0,o={height:t};for(e=e?1:0;i<4;i+=2-e)o["margin"+(n=at[i])]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function he(t,e,n){for(var i,o=(fe.tweeners[e]||[]).concat(fe.tweeners["*"]),a=0,s=o.length;a<s;a++)if(i=o[a].call(n,e,t))return i}function fe(t,e,n){var i,o,a=0,s=fe.prefilters.length,r=T.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var e=se||ue(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),a=0,s=c.tweens.length;a<s;a++)c.tweens[a].run(i);return r.notifyWith(t,[c,i,n]),i<1&&s?n:(s||r.notifyWith(t,[c,1,0]),r.resolveWith(t,[c]),!1)},c=r.promise({elem:t,props:T.extend({},e),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},n),originalProperties:e,originalOptions:n,startTime:se||ue(),duration:n.duration,tweens:[],createTween:function(e,n){var i=T.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)c.tweens[n].run(1);return e?(r.notifyWith(t,[c,1,0]),r.resolveWith(t,[c,e])):r.rejectWith(t,[c,e]),this}}),d=c.props;for(function(t,e){var n,i,o,a,s;for(n in t)if(o=e[i=V(n)],a=t[n],Array.isArray(a)&&(o=a[1],a=t[n]=a[0]),n!==i&&(t[i]=a,delete t[n]),(s=T.cssHooks[i])&&"expand"in s)for(n in a=s.expand(a),delete t[i],a)n in t||(t[n]=a[n],e[n]=o);else e[i]=o}(d,c.opts.specialEasing);a<s;a++)if(i=fe.prefilters[a].call(c,t,d,c.opts))return m(i.stop)&&(T._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return T.map(d,he,c),m(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),T.fx.timer(T.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}T.Animation=T.extend(fe,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return dt(n.elem,t,ot.exec(e),n),n}]},tweener:function(t,e){m(t)?(e=t,t=["*"]):t=t.match(R);for(var n,i=0,o=t.length;i<o;i++)n=t[i],fe.tweeners[n]=fe.tweeners[n]||[],fe.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,o,a,s,r,l,c,d,u="width"in e||"height"in e,p=this,h={},f=t.style,g=t.nodeType&&ct(t),_=Q.get(t,"fxshow");for(i in n.queue||(null==(s=T._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,r=s.empty.fire,s.empty.fire=function(){s.unqueued||r()}),s.unqueued++,p.always((function(){p.always((function(){s.unqueued--,T.queue(t,"fx").length||s.empty.fire()}))}))),e)if(o=e[i],le.test(o)){if(delete e[i],a=a||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!_||void 0===_[i])continue;g=!0}h[i]=_&&_[i]||T.style(t,i)}if((l=!T.isEmptyObject(e))||!T.isEmptyObject(h))for(i in u&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=_&&_.display)&&(c=Q.get(t,"display")),"none"===(d=T.css(t,"display"))&&(c?d=c:(ht([t],!0),c=t.style.display||c,d=T.css(t,"display"),ht([t]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===T.css(t,"float")&&(l||(p.done((function(){f.display=c})),null==c&&(d=f.display,c="none"===d?"":d)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),l=!1,h)l||(_?"hidden"in _&&(g=_.hidden):_=Q.access(t,"fxshow",{display:c}),a&&(_.hidden=!g),g&&ht([t],!0),p.done((function(){for(i in g||ht([t]),Q.remove(t,"fxshow"),h)T.style(t,i,h[i])}))),l=he(g?_[i]:0,i,p),i in _||(_[i]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?fe.prefilters.unshift(t):fe.prefilters.push(t)}}),T.speed=function(t,e,n){var i=t&&"object"==typeof t?T.extend({},t):{complete:n||!n&&e||m(t)&&t,duration:t,easing:n&&e||e&&!m(e)&&e};return T.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in T.fx.speeds?i.duration=T.fx.speeds[i.duration]:i.duration=T.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){m(i.old)&&i.old.call(this),i.queue&&T.dequeue(this,i.queue)},i},T.fn.extend({fadeTo:function(t,e,n,i){return this.filter(ct).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=T.isEmptyObject(t),a=T.speed(e,n,i),s=function(){var e=fe(this,T.extend({},t),a);(o||Q.get(this,"finish"))&&e.stop(!0)};return s.finish=s,o||!1===a.queue?this.each(s):this.queue(a.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,o=null!=t&&t+"queueHooks",a=T.timers,s=Q.get(this);if(o)s[o]&&s[o].stop&&i(s[o]);else for(o in s)s[o]&&s[o].stop&&ce.test(o)&&i(s[o]);for(o=a.length;o--;)a[o].elem!==this||null!=t&&a[o].queue!==t||(a[o].anim.stop(n),e=!1,a.splice(o,1));!e&&n||T.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=Q.get(this),i=n[t+"queue"],o=n[t+"queueHooks"],a=T.timers,s=i?i.length:0;for(n.finish=!0,T.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),T.each(["toggle","show","hide"],(function(t,e){var n=T.fn[e];T.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(pe(e,!0),t,i,o)}})),T.each({slideDown:pe("show"),slideUp:pe("hide"),slideToggle:pe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){T.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),T.timers=[],T.fx.tick=function(){var t,e=0,n=T.timers;for(se=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||T.fx.stop(),se=void 0},T.fx.timer=function(t){T.timers.push(t),T.fx.start()},T.fx.interval=13,T.fx.start=function(){re||(re=!0,de())},T.fx.stop=function(){re=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(t,e){return t=T.fx&&T.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,n){var o=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(o)}}))},function(){var t=y.createElement("input"),e=y.createElement("select").appendChild(y.createElement("option"));t.type="checkbox",_.checkOn=""!==t.value,_.optSelected=e.selected,(t=y.createElement("input")).value="t",t.type="radio",_.radioValue="t"===t.value}();var ge,_e=T.expr.attrHandle;T.fn.extend({attr:function(t,e){return U(this,T.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){T.removeAttr(this,t)}))}}),T.extend({attr:function(t,e,n){var i,o,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===t.getAttribute?T.prop(t,e,n):(1===a&&T.isXMLDoc(t)||(o=T.attrHooks[e.toLowerCase()]||(T.expr.match.bool.test(e)?ge:void 0)),void 0!==n?null===n?void T.removeAttr(t,e):o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(i=o.get(t,e))?i:null==(i=T.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!_.radioValue&&"radio"===e&&N(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,o=e&&e.match(R);if(o&&1===t.nodeType)for(;n=o[i++];)t.removeAttribute(n)}}),ge={set:function(t,e,n){return!1===e?T.removeAttr(t,n):t.setAttribute(n,n),n}},T.each(T.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=_e[e]||T.find.attr;_e[e]=function(t,e,i){var o,a,s=e.toLowerCase();return i||(a=_e[s],_e[s]=o,o=null!=n(t,e,i)?s:null,_e[s]=a),o}}));var me=/^(?:input|select|textarea|button)$/i,ve=/^(?:a|area)$/i;function ye(t){return(t.match(R)||[]).join(" ")}function be(t){return t.getAttribute&&t.getAttribute("class")||""}function xe(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(R)||[]}T.fn.extend({prop:function(t,e){return U(this,T.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[T.propFix[t]||t]}))}}),T.extend({prop:function(t,e,n){var i,o,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&T.isXMLDoc(t)||(e=T.propFix[e]||e,o=T.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=T.find.attr(t,"tabindex");return e?parseInt(e,10):me.test(t.nodeName)||ve.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),_.optSelected||(T.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){T.propFix[this.toLowerCase()]=this})),T.fn.extend({addClass:function(t){var e,n,i,o,a,s,r,l=0;if(m(t))return this.each((function(e){T(this).addClass(t.call(this,e,be(this)))}));if((e=xe(t)).length)for(;n=this[l++];)if(o=be(n),i=1===n.nodeType&&" "+ye(o)+" "){for(s=0;a=e[s++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");o!==(r=ye(i))&&n.setAttribute("class",r)}return this},removeClass:function(t){var e,n,i,o,a,s,r,l=0;if(m(t))return this.each((function(e){T(this).removeClass(t.call(this,e,be(this)))}));if(!arguments.length)return this.attr("class","");if((e=xe(t)).length)for(;n=this[l++];)if(o=be(n),i=1===n.nodeType&&" "+ye(o)+" "){for(s=0;a=e[s++];)for(;i.indexOf(" "+a+" ")>-1;)i=i.replace(" "+a+" "," ");o!==(r=ye(i))&&n.setAttribute("class",r)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):m(t)?this.each((function(n){T(this).toggleClass(t.call(this,n,be(this),e),e)})):this.each((function(){var e,o,a,s;if(i)for(o=0,a=T(this),s=xe(t);e=s[o++];)a.hasClass(e)?a.removeClass(e):a.addClass(e);else void 0!==t&&"boolean"!==n||((e=be(this))&&Q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Q.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+ye(be(n))+" ").indexOf(e)>-1)return!0;return!1}});var we=/\r/g;T.fn.extend({val:function(t){var e,n,i,o=this[0];return arguments.length?(i=m(t),this.each((function(n){var o;1===this.nodeType&&(null==(o=i?t.call(this,n,T(this).val()):t)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=T.map(o,(function(t){return null==t?"":t+""}))),(e=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))}))):o?(e=T.valHooks[o.type]||T.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(we,""):null==n?"":n:void 0}}),T.extend({valHooks:{option:{get:function(t){var e=T.find.attr(t,"value");return null!=e?e:ye(T.text(t))}},select:{get:function(t){var e,n,i,o=t.options,a=t.selectedIndex,s="select-one"===t.type,r=s?null:[],l=s?a+1:o.length;for(i=a<0?l:s?a:0;i<l;i++)if(((n=o[i]).selected||i===a)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,"optgroup"))){if(e=T(n).val(),s)return e;r.push(e)}return r},set:function(t,e){for(var n,i,o=t.options,a=T.makeArray(e),s=o.length;s--;)((i=o[s]).selected=T.inArray(T.valHooks.option.get(i),a)>-1)&&(n=!0);return n||(t.selectedIndex=-1),a}}}}),T.each(["radio","checkbox"],(function(){T.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=T.inArray(T(t).val(),e)>-1}},_.checkOn||(T.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),_.focusin="onfocusin"in i;var ke=/^(?:focusinfocus|focusoutblur)$/,Te=function(t){t.stopPropagation()};T.extend(T.event,{trigger:function(t,e,n,o){var a,s,r,l,c,d,u,p,f=[n||y],g=h.call(t,"type")?t.type:t,_=h.call(t,"namespace")?t.namespace.split("."):[];if(s=p=r=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!ke.test(g+T.event.triggered)&&(g.indexOf(".")>-1&&(_=g.split("."),g=_.shift(),_.sort()),c=g.indexOf(":")<0&&"on"+g,(t=t[T.expando]?t:new T.Event(g,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=_.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+_.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:T.makeArray(e,[t]),u=T.event.special[g]||{},o||!u.trigger||!1!==u.trigger.apply(n,e))){if(!o&&!u.noBubble&&!v(n)){for(l=u.delegateType||g,ke.test(l+g)||(s=s.parentNode);s;s=s.parentNode)f.push(s),r=s;r===(n.ownerDocument||y)&&f.push(r.defaultView||r.parentWindow||i)}for(a=0;(s=f[a++])&&!t.isPropagationStopped();)p=s,t.type=a>1?l:u.bindType||g,(d=(Q.get(s,"events")||Object.create(null))[t.type]&&Q.get(s,"handle"))&&d.apply(s,e),(d=c&&s[c])&&d.apply&&K(s)&&(t.result=d.apply(s,e),!1===t.result&&t.preventDefault());return t.type=g,o||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(f.pop(),e)||!K(n)||c&&m(n[g])&&!v(n)&&((r=n[c])&&(n[c]=null),T.event.triggered=g,t.isPropagationStopped()&&p.addEventListener(g,Te),n[g](),t.isPropagationStopped()&&p.removeEventListener(g,Te),T.event.triggered=void 0,r&&(n[c]=r)),t.result}},simulate:function(t,e,n){var i=T.extend(new T.Event,n,{type:t,isSimulated:!0});T.event.trigger(i,null,e)}}),T.fn.extend({trigger:function(t,e){return this.each((function(){T.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return T.event.trigger(t,e,n,!0)}}),_.focusin||T.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){T.event.simulate(e,t.target,T.event.fix(t))};T.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,o=Q.access(i,e);o||i.addEventListener(t,n,!0),Q.access(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,o=Q.access(i,e)-1;o?Q.access(i,e,o):(i.removeEventListener(t,n,!0),Q.remove(i,e))}}}));var Ce=i.location,Se={guid:Date.now()},Ee=/\?/;T.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||T.error("Invalid XML: "+t),e};var Ae=/\[\]$/,De=/\r?\n/g,Ne=/^(?:submit|button|image|reset|file)$/i,ze=/^(?:input|select|textarea|keygen)/i;function Le(t,e,n,i){var o;if(Array.isArray(e))T.each(e,(function(e,o){n||Ae.test(t)?i(t,o):Le(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,n,i)}));else if(n||"object"!==w(e))i(t,e);else for(o in e)Le(t+"["+o+"]",e[o],n,i)}T.param=function(t,e){var n,i=[],o=function(t,e){var n=m(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!T.isPlainObject(t))T.each(t,(function(){o(this.name,this.value)}));else for(n in t)Le(n,t[n],e,o);return i.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=T.prop(this,"elements");return t?T.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!T(this).is(":disabled")&&ze.test(this.nodeName)&&!Ne.test(t)&&(this.checked||!_t.test(t))})).map((function(t,e){var n=T(this).val();return null==n?null:Array.isArray(n)?T.map(n,(function(t){return{name:e.name,value:t.replace(De,"\r\n")}})):{name:e.name,value:n.replace(De,"\r\n")}})).get()}});var je=/%20/g,Oe=/#.*$/,qe=/([?&])_=[^&]*/,Me=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ie=/^(?:GET|HEAD)$/,Re=/^\/\//,Pe={},$e={},He="*/".concat("*"),We=y.createElement("a");function Be(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,a=e.toLowerCase().match(R)||[];if(m(n))for(;i=a[o++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Fe(t,e,n,i){var o={},a=t===$e;function s(r){var l;return o[r]=!0,T.each(t[r]||[],(function(t,r){var c=r(e,n,i);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(e.dataTypes.unshift(c),s(c),!1)})),l}return s(e.dataTypes[0])||!o["*"]&&s("*")}function Ue(t,e){var n,i,o=T.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&T.extend(!0,t,i),t}We.href=Ce.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ce.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":He,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ue(Ue(t,T.ajaxSettings),e):Ue(T.ajaxSettings,t)},ajaxPrefilter:Be(Pe),ajaxTransport:Be($e),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,o,a,s,r,l,c,d,u,p,h=T.ajaxSetup({},e),f=h.context||h,g=h.context&&(f.nodeType||f.jquery)?T(f):T.event,_=T.Deferred(),m=T.Callbacks("once memory"),v=h.statusCode||{},b={},x={},w="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Me.exec(a);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){return null==c&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==c&&(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)k.always(t[k.status]);else for(e in t)v[e]=[v[e],t[e]];return this},abort:function(t){var e=t||w;return n&&n.abort(e),C(0,e),this}};if(_.promise(k),h.url=((t||h.url||Ce.href)+"").replace(Re,Ce.protocol+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(R)||[""],null==h.crossDomain){l=y.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=We.protocol+"//"+We.host!=l.protocol+"//"+l.host}catch(t){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=T.param(h.data,h.traditional)),Fe(Pe,h,e,k),c)return k;for(u in(d=T.event&&h.global)&&0==T.active++&&T.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ie.test(h.type),o=h.url.replace(Oe,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(je,"+")):(p=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(Ee.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(qe,"$1"),p=(Ee.test(o)?"&":"?")+"_="+Se.guid+++p),h.url=o+p),h.ifModified&&(T.lastModified[o]&&k.setRequestHeader("If-Modified-Since",T.lastModified[o]),T.etag[o]&&k.setRequestHeader("If-None-Match",T.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||e.contentType)&&k.setRequestHeader("Content-Type",h.contentType),k.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+He+"; q=0.01":""):h.accepts["*"]),h.headers)k.setRequestHeader(u,h.headers[u]);if(h.beforeSend&&(!1===h.beforeSend.call(f,k,h)||c))return k.abort();if(w="abort",m.add(h.complete),k.done(h.success),k.fail(h.error),n=Fe($e,h,e,k)){if(k.readyState=1,d&&g.trigger("ajaxSend",[k,h]),c)return k;h.async&&h.timeout>0&&(r=i.setTimeout((function(){k.abort("timeout")}),h.timeout));try{c=!1,n.send(b,C)}catch(t){if(c)throw t;C(-1,t)}}else C(-1,"No Transport");function C(t,e,s,l){var u,p,y,b,x,w=e;c||(c=!0,r&&i.clearTimeout(r),n=void 0,a=l||"",k.readyState=t>0?4:0,u=t>=200&&t<300||304===t,s&&(b=function(t,e,n){for(var i,o,a,s,r=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(o in r)if(r[o]&&r[o].test(i)){l.unshift(o);break}if(l[0]in n)a=l[0];else{for(o in n){if(!l[0]||t.converters[o+" "+l[0]]){a=o;break}s||(s=o)}a=a||s}if(a)return a!==l[0]&&l.unshift(a),n[a]}(h,k,s)),!u&&T.inArray("script",h.dataTypes)>-1&&(h.converters["text script"]=function(){}),b=function(t,e,n,i){var o,a,s,r,l,c={},d=t.dataTypes.slice();if(d[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(a=d.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=d.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(s=c[l+" "+a]||c["* "+a]))for(o in c)if((r=o.split(" "))[1]===a&&(s=c[l+" "+r[0]]||c["* "+r[0]])){!0===s?s=c[o]:!0!==c[o]&&(a=r[0],d.unshift(r[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}(h,b,k,u),u?(h.ifModified&&((x=k.getResponseHeader("Last-Modified"))&&(T.lastModified[o]=x),(x=k.getResponseHeader("etag"))&&(T.etag[o]=x)),204===t||"HEAD"===h.type?w="nocontent":304===t?w="notmodified":(w=b.state,p=b.data,u=!(y=b.error))):(y=w,!t&&w||(w="error",t<0&&(t=0))),k.status=t,k.statusText=(e||w)+"",u?_.resolveWith(f,[p,w,k]):_.rejectWith(f,[k,w,y]),k.statusCode(v),v=void 0,d&&g.trigger(u?"ajaxSuccess":"ajaxError",[k,h,u?p:y]),m.fireWith(f,[k,w]),d&&(g.trigger("ajaxComplete",[k,h]),--T.active||T.event.trigger("ajaxStop")))}return k},getJSON:function(t,e,n){return T.get(t,e,n,"json")},getScript:function(t,e){return T.get(t,void 0,e,"script")}}),T.each(["get","post"],(function(t,e){T[e]=function(t,n,i,o){return m(n)&&(o=o||i,i=n,n=void 0),T.ajax(T.extend({url:t,type:e,dataType:o,data:n,success:i},T.isPlainObject(t)&&t))}})),T.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),T._evalUrl=function(t,e,n){return T.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){T.globalEval(t,e,n)}})},T.fn.extend({wrapAll:function(t){var e;return this[0]&&(m(t)&&(t=t.call(this[0])),e=T(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return m(t)?this.each((function(e){T(this).wrapInner(t.call(this,e))})):this.each((function(){var e=T(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=m(t);return this.each((function(n){T(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){T(this).replaceWith(this.childNodes)})),this}}),T.expr.pseudos.hidden=function(t){return!T.expr.pseudos.visible(t)},T.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var Je={0:200,1223:204},Xe=T.ajaxSettings.xhr();_.cors=!!Xe&&"withCredentials"in Xe,_.ajax=Xe=!!Xe,T.ajaxTransport((function(t){var e,n;if(_.cors||Xe&&!t.crossDomain)return{send:function(o,a){var s,r=t.xhr();if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)r[s]=t.xhrFields[s];for(s in t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)r.setRequestHeader(s,o[s]);e=function(t){return function(){e&&(e=n=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===t?r.abort():"error"===t?"number"!=typeof r.status?a(0,"error"):a(r.status,r.statusText):a(Je[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=e(),n=r.onerror=r.ontimeout=e("error"),void 0!==r.onabort?r.onabort=n:r.onreadystatechange=function(){4===r.readyState&&i.setTimeout((function(){e&&n()}))},e=e("abort");try{r.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),T.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return T.globalEval(t),t}}}),T.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),T.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,o){e=T("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),y.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Ye,Ve=[],Ke=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ve.pop()||T.expando+"_"+Se.guid++;return this[t]=!0,t}}),T.ajaxPrefilter("json jsonp",(function(t,e,n){var o,a,s,r=!1!==t.jsonp&&(Ke.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ke.test(t.data)&&"data");if(r||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=m(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,r?t[r]=t[r].replace(Ke,"$1"+o):!1!==t.jsonp&&(t.url+=(Ee.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return s||T.error(o+" was not called"),s[0]},t.dataTypes[0]="json",a=i[o],i[o]=function(){s=arguments},n.always((function(){void 0===a?T(i).removeProp(o):i[o]=a,t[o]&&(t.jsonpCallback=e.jsonpCallback,Ve.push(o)),s&&m(a)&&a(s[0]),s=a=void 0})),"script"})),_.createHTMLDocument=((Ye=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ye.childNodes.length),T.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(_.createHTMLDocument?((i=(e=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,e.head.appendChild(i)):e=y),a=!n&&[],(o=z.exec(t))?[e.createElement(o[1])]:(o=kt([t],e,a),a&&a.length&&T(a).remove(),T.merge([],o.childNodes)));var i,o,a},T.fn.load=function(t,e,n){var i,o,a,s=this,r=t.indexOf(" ");return r>-1&&(i=ye(t.slice(r)),t=t.slice(0,r)),m(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),s.length>0&&T.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done((function(t){a=arguments,s.html(i?T("<div>").append(T.parseHTML(t)).find(i):t)})).always(n&&function(t,e){s.each((function(){n.apply(this,a||[t.responseText,e,t])}))}),this},T.expr.pseudos.animated=function(t){return T.grep(T.timers,(function(e){return t===e.elem})).length},T.offset={setOffset:function(t,e,n){var i,o,a,s,r,l,c=T.css(t,"position"),d=T(t),u={};"static"===c&&(t.style.position="relative"),r=d.offset(),a=T.css(t,"top"),l=T.css(t,"left"),("absolute"===c||"fixed"===c)&&(a+l).indexOf("auto")>-1?(s=(i=d.position()).top,o=i.left):(s=parseFloat(a)||0,o=parseFloat(l)||0),m(e)&&(e=e.call(t,n,T.extend({},r))),null!=e.top&&(u.top=e.top-r.top+s),null!=e.left&&(u.left=e.left-r.left+o),"using"in e?e.using.call(t,u):("number"==typeof u.top&&(u.top+="px"),"number"==typeof u.left&&(u.left+="px"),d.css(u))}},T.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){T.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],o={top:0,left:0};if("fixed"===T.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===T.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((o=T(t).offset()).top+=T.css(t,"borderTopWidth",!0),o.left+=T.css(t,"borderLeftWidth",!0))}return{top:e.top-o.top-T.css(i,"marginTop",!0),left:e.left-o.left-T.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===T.css(t,"position");)t=t.offsetParent;return t||st}))}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;T.fn[t]=function(i){return U(this,(function(t,i,o){var a;if(v(t)?a=t:9===t.nodeType&&(a=t.defaultView),void 0===o)return a?a[e]:t[i];a?a.scrollTo(n?a.pageXOffset:o,n?o:a.pageYOffset):t[i]=o}),t,i,arguments.length)}})),T.each(["top","left"],(function(t,e){T.cssHooks[e]=Xt(_.pixelPosition,(function(t,n){if(n)return n=Jt(t,e),Wt.test(n)?T(t).position()[e]+"px":n}))})),T.each({Height:"height",Width:"width"},(function(t,e){T.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){T.fn[i]=function(o,a){var s=arguments.length&&(n||"boolean"!=typeof o),r=n||(!0===o||!0===a?"margin":"border");return U(this,(function(e,n,o){var a;return v(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(a=e.documentElement,Math.max(e.body["scroll"+t],a["scroll"+t],e.body["offset"+t],a["offset"+t],a["client"+t])):void 0===o?T.css(e,n,r):T.style(e,n,o,r)}),e,s?o:void 0,s)}}))})),T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){T.fn[e]=function(t){return this.on(e,t)}})),T.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){T.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Ge=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;T.proxy=function(t,e){var n,i,o;if("string"==typeof e&&(n=t[e],e=t,t=n),m(t))return i=r.call(arguments,2),(o=function(){return t.apply(e||this,i.concat(r.call(arguments)))}).guid=t.guid=t.guid||T.guid++,o},T.holdReady=function(t){t?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=N,T.isFunction=m,T.isWindow=v,T.camelCase=V,T.type=w,T.now=Date.now,T.isNumeric=function(t){var e=T.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},T.trim=function(t){return null==t?"":(t+"").replace(Ge,"")},void 0===(n=function(){return T}.apply(e,[]))||(t.exports=n);var Qe=i.jQuery,Ze=i.$;return T.noConflict=function(t){return i.$===T&&(i.$=Ze),t&&i.jQuery===T&&(i.jQuery=Qe),T},void 0===o&&(i.jQuery=i.$=T),T}))},614:(t,e,n)=>{"use strict";var i;n.r(e),n.d(e,{NIL:()=>N,parse:()=>_,stringify:()=>d,v1:()=>g,v3:()=>C,v4:()=>S,v5:()=>D,validate:()=>r,version:()=>z});var o=new Uint8Array(16);function a(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(o)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,r=function(t){return"string"==typeof t&&s.test(t)};for(var l=[],c=0;c<256;++c)l.push((c+256).toString(16).substr(1));const d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(l[t[e+0]]+l[t[e+1]]+l[t[e+2]]+l[t[e+3]]+"-"+l[t[e+4]]+l[t[e+5]]+"-"+l[t[e+6]]+l[t[e+7]]+"-"+l[t[e+8]]+l[t[e+9]]+"-"+l[t[e+10]]+l[t[e+11]]+l[t[e+12]]+l[t[e+13]]+l[t[e+14]]+l[t[e+15]]).toLowerCase();if(!r(n))throw TypeError("Stringified UUID is invalid");return n};var u,p,h=0,f=0;const g=function(t,e,n){var i=e&&n||0,o=e||new Array(16),s=(t=t||{}).node||u,r=void 0!==t.clockseq?t.clockseq:p;if(null==s||null==r){var l=t.random||(t.rng||a)();null==s&&(s=u=[1|l[0],l[1],l[2],l[3],l[4],l[5]]),null==r&&(r=p=16383&(l[6]<<8|l[7]))}var c=void 0!==t.msecs?t.msecs:Date.now(),g=void 0!==t.nsecs?t.nsecs:f+1,_=c-h+(g-f)/1e4;if(_<0&&void 0===t.clockseq&&(r=r+1&16383),(_<0||c>h)&&void 0===t.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=c,f=g,p=r;var m=(1e4*(268435455&(c+=122192928e5))+g)%4294967296;o[i++]=m>>>24&255,o[i++]=m>>>16&255,o[i++]=m>>>8&255,o[i++]=255&m;var v=c/4294967296*1e4&268435455;o[i++]=v>>>8&255,o[i++]=255&v,o[i++]=v>>>24&15|16,o[i++]=v>>>16&255,o[i++]=r>>>8|128,o[i++]=255&r;for(var y=0;y<6;++y)o[i+y]=s[y];return e||d(o)},_=function(t){if(!r(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=255&e,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=255&e,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=255&e,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=255&e,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=255&e,n};function m(t,e,n){function i(t,i,o,a){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}(t)),"string"==typeof i&&(i=_(i)),16!==i.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+t.length);if(s.set(i),s.set(t,i.length),(s=n(s))[6]=15&s[6]|e,s[8]=63&s[8]|128,o){a=a||0;for(var r=0;r<16;++r)o[a+r]=s[r];return o}return d(s)}try{i.name=t}catch(t){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i}function v(t){return 14+(t+64>>>9<<4)+1}function y(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function b(t,e,n,i,o,a){return y((s=y(y(e,t),y(i,a)))<<(r=o)|s>>>32-r,n);var s,r}function x(t,e,n,i,o,a,s){return b(e&n|~e&i,t,e,o,a,s)}function w(t,e,n,i,o,a,s){return b(e&i|n&~i,t,e,o,a,s)}function k(t,e,n,i,o,a,s){return b(e^n^i,t,e,o,a,s)}function T(t,e,n,i,o,a,s){return b(n^(e|~i),t,e,o,a,s)}const C=m("v3",48,(function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return function(t){for(var e=[],n=32*t.length,i="0123456789abcdef",o=0;o<n;o+=8){var a=t[o>>5]>>>o%32&255,s=parseInt(i.charAt(a>>>4&15)+i.charAt(15&a),16);e.push(s)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[v(e)-1]=e;for(var n=1732584193,i=-271733879,o=-1732584194,a=271733878,s=0;s<t.length;s+=16){var r=n,l=i,c=o,d=a;n=x(n,i,o,a,t[s],7,-680876936),a=x(a,n,i,o,t[s+1],12,-389564586),o=x(o,a,n,i,t[s+2],17,606105819),i=x(i,o,a,n,t[s+3],22,-1044525330),n=x(n,i,o,a,t[s+4],7,-176418897),a=x(a,n,i,o,t[s+5],12,1200080426),o=x(o,a,n,i,t[s+6],17,-1473231341),i=x(i,o,a,n,t[s+7],22,-45705983),n=x(n,i,o,a,t[s+8],7,1770035416),a=x(a,n,i,o,t[s+9],12,-1958414417),o=x(o,a,n,i,t[s+10],17,-42063),i=x(i,o,a,n,t[s+11],22,-1990404162),n=x(n,i,o,a,t[s+12],7,1804603682),a=x(a,n,i,o,t[s+13],12,-40341101),o=x(o,a,n,i,t[s+14],17,-1502002290),n=w(n,i=x(i,o,a,n,t[s+15],22,1236535329),o,a,t[s+1],5,-165796510),a=w(a,n,i,o,t[s+6],9,-1069501632),o=w(o,a,n,i,t[s+11],14,643717713),i=w(i,o,a,n,t[s],20,-373897302),n=w(n,i,o,a,t[s+5],5,-701558691),a=w(a,n,i,o,t[s+10],9,38016083),o=w(o,a,n,i,t[s+15],14,-660478335),i=w(i,o,a,n,t[s+4],20,-405537848),n=w(n,i,o,a,t[s+9],5,568446438),a=w(a,n,i,o,t[s+14],9,-1019803690),o=w(o,a,n,i,t[s+3],14,-187363961),i=w(i,o,a,n,t[s+8],20,1163531501),n=w(n,i,o,a,t[s+13],5,-1444681467),a=w(a,n,i,o,t[s+2],9,-51403784),o=w(o,a,n,i,t[s+7],14,1735328473),n=k(n,i=w(i,o,a,n,t[s+12],20,-1926607734),o,a,t[s+5],4,-378558),a=k(a,n,i,o,t[s+8],11,-2022574463),o=k(o,a,n,i,t[s+11],16,1839030562),i=k(i,o,a,n,t[s+14],23,-35309556),n=k(n,i,o,a,t[s+1],4,-1530992060),a=k(a,n,i,o,t[s+4],11,1272893353),o=k(o,a,n,i,t[s+7],16,-155497632),i=k(i,o,a,n,t[s+10],23,-1094730640),n=k(n,i,o,a,t[s+13],4,681279174),a=k(a,n,i,o,t[s],11,-358537222),o=k(o,a,n,i,t[s+3],16,-722521979),i=k(i,o,a,n,t[s+6],23,76029189),n=k(n,i,o,a,t[s+9],4,-640364487),a=k(a,n,i,o,t[s+12],11,-421815835),o=k(o,a,n,i,t[s+15],16,530742520),n=T(n,i=k(i,o,a,n,t[s+2],23,-995338651),o,a,t[s],6,-198630844),a=T(a,n,i,o,t[s+7],10,1126891415),o=T(o,a,n,i,t[s+14],15,-1416354905),i=T(i,o,a,n,t[s+5],21,-57434055),n=T(n,i,o,a,t[s+12],6,1700485571),a=T(a,n,i,o,t[s+3],10,-1894986606),o=T(o,a,n,i,t[s+10],15,-1051523),i=T(i,o,a,n,t[s+1],21,-2054922799),n=T(n,i,o,a,t[s+8],6,1873313359),a=T(a,n,i,o,t[s+15],10,-30611744),o=T(o,a,n,i,t[s+6],15,-1560198380),i=T(i,o,a,n,t[s+13],21,1309151649),n=T(n,i,o,a,t[s+4],6,-145523070),a=T(a,n,i,o,t[s+11],10,-1120210379),o=T(o,a,n,i,t[s+2],15,718787259),i=T(i,o,a,n,t[s+9],21,-343485551),n=y(n,r),i=y(i,l),o=y(o,c),a=y(a,d)}return[n,i,o,a]}(function(t){if(0===t.length)return[];for(var e=8*t.length,n=new Uint32Array(v(e)),i=0;i<e;i+=8)n[i>>5]|=(255&t[i/8])<<i%32;return n}(t),8*t.length))})),S=function(t,e,n){var i=(t=t||{}).random||(t.rng||a)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=i[o];return e}return d(i)};function E(t,e,n,i){switch(t){case 0:return e&n^~e&i;case 1:return e^n^i;case 2:return e&n^e&i^n&i;case 3:return e^n^i}}function A(t,e){return t<<e|t>>>32-e}const D=m("v5",80,(function(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var i=unescape(encodeURIComponent(t));t=[];for(var o=0;o<i.length;++o)t.push(i.charCodeAt(o))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var a=t.length/4+2,s=Math.ceil(a/16),r=new Array(s),l=0;l<s;++l){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=t[64*l+4*d]<<24|t[64*l+4*d+1]<<16|t[64*l+4*d+2]<<8|t[64*l+4*d+3];r[l]=c}r[s-1][14]=8*(t.length-1)/Math.pow(2,32),r[s-1][14]=Math.floor(r[s-1][14]),r[s-1][15]=8*(t.length-1)&4294967295;for(var u=0;u<s;++u){for(var p=new Uint32Array(80),h=0;h<16;++h)p[h]=r[u][h];for(var f=16;f<80;++f)p[f]=A(p[f-3]^p[f-8]^p[f-14]^p[f-16],1);for(var g=n[0],_=n[1],m=n[2],v=n[3],y=n[4],b=0;b<80;++b){var x=Math.floor(b/20),w=A(g,5)+E(x,_,m,v)+y+e[x]+p[b]>>>0;y=v,v=m,m=A(_,30)>>>0,_=g,g=w}n[0]=n[0]+g>>>0,n[1]=n[1]+_>>>0,n[2]=n[2]+m>>>0,n[3]=n[3]+v>>>0,n[4]=n[4]+y>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),N="00000000-0000-0000-0000-000000000000",z=function(t){if(!r(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}}},e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t=n(755),e=n.n(t);const i={id:"7c64913a-9d8c-475a-af1a-658944e37c31",new:!0,parent_id:null,created_by:"TestUser",created_at:"2020-12-21T02:41:47.304Z",deprecated:!1,spatial_type:"contour",spatial_payload:[[4,25],[4,25],[4,24],[4,23],[4,22],[4,22],[5,22],[5,21],[5,20],[6,20],[6,19],[7,19],[7,18],[8,18],[8,18],[10,18],[11,18],[11,17],[12,17],[12,16],[12,16],[13,16],[14,15],[16,14],[16,14],[17,14],[18,14],[18,13],[19,13],[20,13],[20,13],[21,13],[22,13],[23,13],[24,13],[24,13],[25,13],[26,13],[27,13],[28,13],[28,13],[29,13],[30,13],[31,13],[32,13],[34,13],[36,14],[36,14],[37,15],[40,15],[40,16],[41,16],[42,17],[43,17],[44,18],[44,18],[45,18],[46,18],[47,18],[47,18],[48,18],[48,18],[49,19],[50,20],[52,20],[52,20],[53,21],[54,21],[55,21],[56,21],[57,21],[58,22],[59,22],[60,22],[60,22],[61,22],[63,22],[64,22],[64,22],[65,22],[66,22],[67,22],[68,22],[68,21],[69,21],[70,20],[70,19],[71,19],[71,18],[72,18],[72,18],[72,18],[73,18],[75,17],[75,16],[76,16],[76,16],[76,15],[77,14],[78,14],[79,14],[79,13],[79,12],[80,12],[81,12],[82,11],[83,11],[84,10],[85,10],[86,10],[87,10],[88,10],[88,10],[89,10],[90,10],[91,10],[92,10],[92,10],[93,10],[94,10],[94,10],[95,10],[96,10],[96,11],[96,11],[98,11],[98,12],[99,12],[100,13],[100,14],[101,14],[101,15],[102,15],[104,16],[104,17],[104,18],[105,18],[106,18],[106,18],[107,18],[107,19],[107,20],[108,20],[108,21],[108,21],[108,22],[109,22],[109,22],[109,23]],classification_payloads:null,annotation_meta:"is_assigned_to_each_annotation"},o='\ndiv.ulabel-night {\n   background-color: black;\n}\ndiv.full_ulabel_container_ {\n   font-family: sans-serif;\n}\n\ndiv.annbox_cls, div.toolbox_cls {\n   height: 100%;\n}\ndiv.annbox_cls {\n   width: calc(100% - 320px);\n   background-color: black;\n   overflow: scroll;\n   position: absolute;\n   top: 0;\n   left: 0;\n}\ndiv.toolbox_cls {\n   width: 320px;\n   background-color: white;\n   overflow-y: hidden;\n   position: absolute;\n   top: 0;\n   right: 0;\n}\ndiv.ulabel-night div.toolbox_cls {\n   background-color: rgb(24, 24, 24);\n}\ndiv.ulabel-night div.toolbox_cls p, div.ulabel-night div.toolbox_cls a {\n   color: white;\n}\ndiv.ulabel-night a.md-btn svg {\n   filter: invert(80%);\n}\n\n\ncanvas.canvas_cls {\n   position: absolute;\n   top: 0;\n   left: 0;\n}\n\n.id_dialog {\n   width: 400px;\n   height: 400px;\n   background-color: rgba(0, 0, 0, 0.0);\n   position: absolute;\n   display: none;\n}\n/* .id_dialog.thumb {\n   transform: scale(0.375);\n   opacity: 0.5;\n}\n.id_dialog.thumb:hover {\n   opacity: 1.0;\n} */\n.ender_outer {\n   display: block;\n   position: absolute;\n   width: 50px;\n   height: 50px;\n   background-color: white;\n   border-radius: 25px;\n   z-index: 0;\n}\n.ender_inner {\n   display: block;\n   position: absolute;\n   left: 20px;\n   top: 20px;\n   width: 10px;\n   height: 10px;\n   background-color: black;\n   border-radius: 10px;\n}\n\n/* ================== TOOLBOX ================== */\n\ndiv.toolbox-divider {\n   width: 90%;\n   margin: 0 auto;\n   height: 1px;\n   background-color: lightgray;\n}\ndiv.ulabel-night div.toolbox-divider {\n   background-color: gray;\n}\n\n\ndiv.mode-selection, div.zoom-pan {\n   padding: 10px 30px;\n}\n\n/* === Annotation Mode === */\np.current_mode_container {\n   margin-top: 0px;\n   margin-bottom: 5px;\n}\nspan.current_mode {\n   color: cornflowerblue;\n}\ndiv.mode-opt {\n   display: inline-block;\n}\na.md-btn {\n   display: block;\n   text-align: center;\n   height: 30px;\n   width: 30px;\n   padding: 10px;\n   margin: 0 auto;\n   text-decoration: none;\n   /* background-color: rgba(231, 231, 231, 1); */\n   color: black;\n   font-size: 1.2em;\n   font-family: sans-serif;\n}\n\na.md-btn svg {\n   height: 30px;\n   width: 30px;\n}\n\na.md-btn:hover {\n   background-color: rgba(255, 181, 44, 0.397);\n}\n\na.md-btn.sel {\n   background-color: rgba(100, 148, 237, 0.459);\n}\n\n/* === Pan & Zoom === */\n\ndiv.zoom-pan {\n   padding-bottom: 0;\n   padding-top: 0;\n}\ndiv.half-tb {\n   display: inline-block;    \n   width: 50%;\n   vertical-align: middle;\n}\nspan.htblbl {\n   display: inline-block;\n   /* font-weight: bold; */\n   vertical-align: middle;\n}\nspan.htbpyld {\n   display: inline-block;\n   vertical-align: middle;\n}\n\nspan.panudlr {\n   display: inline-block;\n   position: relative;\n   width: 60px;\n   height: 60px;\n   border-radius: 30px;\n}\n\na.zbutt, a.wbutt {\n   display: inline-block;\n   height: 20px;\n   width: 20px;\n   background-color: lightgray;\n   vertical-align: middle;\n   text-align: center;\n   text-decoration: none;\n   color: white;\n   border-radius: 11px;\n   line-height: 20px;\n   border: 1px solid rgb(168, 168, 168);\n}\nspan.panudlr {\n   transform: rotate(-45deg);\n}\na.pbutt {\n   display: block;\n   position: absolute;\n   width: 28px;\n   height: 28px;\n   border-radius: 0;\n   border: 1px solid rgb(168, 168, 168);\n   background-color: lightgray;\n}\na.pbutt.up {\n   right: 0;\n   top: 0;\n   border-top-right-radius: 30px;\n}\na.pbutt.down {\n   left: 0;\n   bottom: 0;\n   border-bottom-left-radius: 30px;\n}\na.pbutt.left {\n   left: 0;\n   top: 0;\n   border-top-left-radius: 30px;\n}\na.pbutt.right {\n   right: 0;\n   bottom: 0;\n   border-bottom-right-radius: 30px;\n}\na.pbutt:hover, a.zbutt:hover, a.wbutt:hover {\n   background-color: rgba(100, 148, 237, 0.486);\n}\na.pbutt:active, a.zbutt:active, a.wbutt:active {\n   background-color:cornflowerblue;\n}\nspan.spokes {\n   position: absolute;\n   left: 19px;\n   top: 19px;\n   height: 20px;\n   width: 20px;\n   background-color: white;\n   border-radius: 10px;\n   border: 1px solid gray;\n}\ndiv.ulabel-night span.spokes {\n   background-color:rgb(24, 24, 24);\n   /* border: 1px solid black; */\n}\n\ndiv.zpcont {\n   height: 90px;\n   position: relative;\n   background-color: white;\n}\ndiv.ulabel-night div.zpcont {\n   background-color: rgb(24, 24, 24);\n}\ndiv.zpcont:hover, div.ulabel-night div.zpcont:hover {\n   background-color: rgba(0,0,0,0);\n}\ndiv.zpcont div.lblpyldcont {\n   position: absolute;\n   top: 50%;\n   -ms-transform: translateY(-50%);\n   transform: translateY(-50%);\n}\ndiv.ulabel-night div.zpcont div.lblpyldcont {\n   color: white;\n}\ndiv.ulabel-night a.zbutt, div.ulabel-night a.wbutt {\n   border: 1px solid black;\n   color: black !important;\n}\n\n\ndiv.htbmain {\n   position: relative;\n}\np.shortcut-tip {\n   font-size: 10px;\n   text-align: left;\n   color: gray;\n   position: absolute;\n   bottom: 3px;\n   margin: 0;\n}\ndiv.linestyle {\n   padding: 10px 30px;\n}\ndiv.linestyle p.tb-header {\n   margin: 0;\n   margin-bottom: 5px;\n}\ncanvas.demo-canvas {\n   width: 120px;\n   height: 40px;\n   border: 1px solid lightgray;\n}\ndiv.ulabel-night canvas.demo-canvas {\n   border: 1px solid rgb(87, 87, 87);\n}\ndiv.line-expl {\n   width: 175px;\n}\ndiv.line-expl a {\n   display: inline-block;\n   vertical-align: middle;\n}\ndiv.line-expl canvas {\n   display: inline-block;\n   vertical-align: middle;\n}\ndiv.lstyl-row div.line-expl, div.lstyl-row div.setting {\n   display: inline-block;\n   vertical-align: middle;\n}\ndiv.setting {\n   width: calc(100% - 175px);\n   text-align: right;\n}\ndiv.lstyl-row div.setting a {\n   display: inline-block;\n   border-radius: 5px;\n   padding: 3px 6px;\n   margin-bottom: 5px;\n   text-decoration: none;\n   color: black;\n   font-size: 14px;\n}\ndiv.ulabel-night div.lstyl-row div.setting a {\n   color: white;\n}\ndiv.lstyl-row div.setting a {\n   background-color: rgba(100, 148, 237, 0.479);\n   color: black;\n}\ndiv.lstyl-row div.setting a[href="#"] {\n   background-color: rgba(0,0,0,0);\n   color: black;\n}\ndiv.lstyl-row div.setting a[href="#"]:hover {\n   background-color: rgba(255, 181, 44, 0.397);\n}\n\ndiv#global_edit_suggestion {\n   display: none;\n   position: absolute;\n   width: 150px;\n   height: 75px;\n   text-align: center;\n   z-index: 1;\n   /* background-color: white; */\n   transform: scale(0.66666);\n}\ndiv#global_edit_suggestion.mcm {\n   width: 225px;\n   transform: scale(0.5);\n}\na.global_sub_suggestion {\n   width: 60px;\n   height: 60px;\n   margin: 7.5px;\n   display: inline-block;\n   border-radius: 37.5px;\n   background-color: white;\n   overflow: hidden;\n}\na.global_sub_suggestion img {\n   display: block;\n   width: 40px;\n   height: 40px;\n   padding: 10px;\n}\na.global_sub_suggestion span.bigx {\n   position: absolute;\n   display: block;\n   font-size: 4em;\n   text-align: center;\n   width: 60px;\n   top: 50%;\n   -ms-transform: translateY(-50%);\n   transform: translateY(-50%);\n   color: black;\n   text-decoration: none;\n}\na.global_sub_suggestion.reid_suggestion {\n   opacity: 0.3;\n   background-color: black;\n}\na.global_sub_suggestion.reid_suggestion:hover {\n   opacity: 0; \n}\ndiv.classification {\n   padding: 10px 30px;\n}\ndiv.classification p.tb-header {\n   margin: 0;\n   margin-bottom: 5px;\n}\n\na.tbid-opt {\n   display: inline-block;\n   text-decoration: none;\n   padding: 5px 8px;\n   border-radius: 5px;\n   color: black;\n}\ndiv.colprev {\n   display: inline-block;\n   vertical-align: middle;\n   height: 15px;\n   width: 15px;\n}\nspan.tb-cls-nam {\n   display: inline-block;\n   vertical-align: middle;\n}\na.tbid-opt:hover {\n   background-color: rgba(255, 181, 44, 0.397);\n}\na.tbid-opt.sel {\n   background-color: rgba(100, 148, 237, 0.459);\n}\ndiv.toolbox-name-header {\n   background-color: rgb(0, 128, 202);\n   margin: 0;\n}\ndiv.ulabel-night div.toolbox-name-header {\n   background-color: rgb(0, 60, 95);\n}\ndiv.toolbox-name-header h1 {\n   margin: 0;\n   padding: 0;\n   font-size: 15px;\n   display: inline-block;\n   padding: 10px 15px;\n   width: calc(50% - 30px);\n   vertical-align: middle;\n}\ndiv.toolbox-name-header h1 a {\n   color: white;\n   font-weight: 100;\n   text-decoration: none;\n}\ndiv.night-button-cont {\n   text-align: right;\n   display: inline-block;\n   vertical-align: middle;\n   position: relative;\n   padding-right: 10px;\n   width: calc(50% - 10px);\n}\na.night-button {\n   display: inline-block;\n   padding: 10px;\n   opacity: 0.7;\n}\ndiv.night-button-track {\n   width: 35px;\n   height: 12px;\n   border-radius: 6px;\n   position: relative;\n   display: inline-block;\n   background-color: rgba(0, 0, 0, 0.52);\n}\ndiv.night-status {\n   width: 20px;\n   height: 20px;\n   border-radius: 10px;\n   position: absolute;\n   background-color: rgb(139, 139, 139);\n   left: -4px;\n   top: -4px;\n   transition: left 0.2s;\n}\na.night-button:hover {\n   opacity: 1;\n}\ndiv.ulabel-night div.night-button-track {\n   background-color: rgba(255, 255, 255, 0.52);\n}\ndiv.ulabel-night div.night-status {\n   left: 19px;\n}\n\n\ndiv.ulabel-night div.annbox_cls::-webkit-scrollbar {\n   background-color: black;\n}\ndiv.ulabel-night div.annbox_cls::-webkit-scrollbar-track {\n   background-color: black;\n}\ndiv.ulabel-night div.annbox_cls::-webkit-scrollbar-thumb {\n   border: 1px solid rgb(110, 110, 110);\n   background-color: rgb(51, 51, 51);\n}\ndiv.ulabel-night div.annbox_cls::-webkit-scrollbar-thumb:hover {\n   background-color: rgb(90, 90, 90);\n} \ndiv.ulabel-night div.annbox_cls::-webkit-scrollbar-corner {\n   background-color:rgb(0, 60, 95);\n}\n\n\na.id-dialog-clickable-indicator {\n   position: absolute; \n   top: 0;\n   left: 0;\n   display: block;\n   border-radius: 200px;\n   height: 400px;\n   width: 400px;\n   overflow: hidden;\n}\na.id-dialog-clickable-indicator svg {\n   position: absolute;\n   top: 0;\n   left: 0;\n}\n\n.editable {\n   display: none;\n   position: absolute;\n   width: 50px;\n   height: 50px;\n   background-color: gray;\n   opacity: 0.7;\n   border-radius: 25px;\n   z-index: 0;\n}\n.editable.soft {\n   opacity: 0.4;\n}\n.editable:hover {\n   background-color: white;\n   opacity: 1.0;\n}\n.editable.soft:hover {\n   opacity: 0.7;\n}\n\n#submit-button {\n   display: block;\n   padding: 20px;\n   border-radius: 10px;\n   color: white;\n   background-color: rgba(255, 166, 0, 0.739);\n   text-decoration: none;\n   font-size: 1.5em;\n   text-align: center;\n   width: 150px;\n   margin: 50px auto;\n}\n#submit-button:hover {\n   background-color: rgba(255, 166, 0, 1.0);\n}\n#submit-button:active {\n   box-shadow: 0 0 3px black;\n}\ndiv.ulabel-night #submit-button:active {\n   box-shadow: 0 0 8px white;\n}\n',a=["orange","crimson","dogerblue","midnightblue","seagreen","tan"],s=e(),{v4:r}=n(614);s.fn.outer_html=function(){return s("<div />").append(this.eq(0).clone()).html()};class l{static get elvl_info(){return 0}static get elvl_standard(){return 1}static get elvl_fatal(){return 2}static add_style_to_document(){let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");t.appendChild(e),e.styleSheet?e.styleSheet.cssText=o:e.appendChild(document.createTextNode(o))}static get_time(){return(new Date).toISOString()}static l2_norm(t,e){let n=t.length,i=0;for(var o=0;o<n;o++)i+=(t[o]-e[o])*(t[o]-e[o]);return Math.sqrt(i)}static interpolate_poly_segment(t,e,n){const i=t[e%(t.length-1)],o=t[(e+1)%(t.length-1)];return[i[0]*(1-n)+o[0]*n,i[1]*(1-n)+o[1]*n]}static get_line_equation_through_points(t,e){const n=e[1]-t[1],i=t[0]-e[0];return 0==n&&0==i?null:{a:n,b:i,c:t[1]*(e[0]-t[0])-t[0]*(e[1]-t[1])}}static get_nearest_point_on_segment(t,e,n,i,o){const a=n.a,s=n.b,r=n.c;var l=(s*(s*t-a*e)-a*r)/(a*a+s*s),c=(a*(a*e-s*t)-s*r)/(a*a+s*s),d=0;o[0]!=i[0]&&(d=(l-i[0])/(o[0]-i[0]));var u=0;if(o[1]!=i[1]&&(u=(c-i[1])/(o[1]-i[1])),d<0||d>1||u<0||u>1)return null;var p=Math.abs(a*t+s*e+r)/Math.sqrt(a*a+s*s);const h=Math.sqrt((o[0]-i[0])*(o[0]-i[0])+(o[1]-i[1])*(o[1]-i[1]));return{dst:p,prop:Math.sqrt((l-i[0])*(l-i[0])+(c-i[1])*(c-i[1]))/h}}static get_nearest_point_on_polygon(t,e,n,i=1/0,o=!1){const a=n;var s={access:null,distance:null,point:null};if(o){for(p=0;p<a.length-1;p++){var r=a[p],c=a[p+1],d=l.get_line_equation_through_points(r,c),u=l.get_nearest_point_on_segment(t,e,d,r,c);null!=u&&u.dst<i&&(null==s.distance||u.dst<s.distance)&&(s.access=""+(p+u.prop),s.distance=u.dst,s.point=l.interpolate_poly_segment(a,p,u.prop))}return s}for(var p=0;p<a.length-1;p++){var h=a[p];let n=Math.sqrt(Math.pow(h[0]-t,2)+Math.pow(h[1]-e,2));(null==s.distance||n<s.distance)&&(s.access=p,s.distance=n,s.point=a[p])}return s}static get_nearest_point_on_bounding_box(t,e,n,i=1/0){for(var o={access:null,distance:null,point:null},a=0;a<2;a++)for(var s=0;s<2;s++){var r=[n[a][0],n[s][1]],l=Math.sqrt(Math.pow(r[0]-t,2)+Math.pow(r[1]-e,2));(null==o.distance||l<o.distance)&&(o.access=`${a}${s}`,o.distance=l,o.point=r)}return o}static get_nearest_point_on_tbar(t,e,n,i=1/0){for(var o={access:null,distance:null,point:null},a=0;a<2;a++){var s=[n[a][0],n[a][1]],r=Math.sqrt(Math.pow(s[0]-t,2)+Math.pow(s[1]-e,2));(null==o.distance||r<o.distance)&&(o.access=`${a}${a}`,o.distance=r,o.point=s)}return o}static has_night_mode_cookie(){return!!document.cookie.split(";").find((t=>t.startsWith("nightmode=true")))}static set_night_mode_cookie(){let t=new Date;t.setTime(t.getTime()+864e9),document.cookie="nightmode=true;expires="+t.toUTCString()+";path=/"}static destroy_night_mode_cookie(){document.cookie="nightmode=true;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/"}static get_drag_key_start(t,n){if(null!=n.annotation_state.active_id)return"annotation";switch(t.button){case 0:return t.target.id==n.config.canvas_fid?t.ctrlKey?"pan":t.shiftKey?"zoom":"annotation":e()(t.target).hasClass("editable")?"edit":e()(t.target).hasClass("movable")?(t.preventDefault(),"move"):null;case 1:return"pan";case 2:return null}}static prep_window_html(t){const n=`\n        <div class="full_ulabel_container_">\n            <div id="${t.config.annbox_id}" class="annbox_cls">\n                <div id="${t.config.imwrap_id}" class="imwrap_cls ${t.config.imgsz_class}">\n                    <img id="${t.config.image_id}" src="${t.config.image_data}" class="imwrap_cls ${t.config.imgsz_class}" />\n                </div>\n            </div>\n            <div id="${t.config.toolbox_id}" class="toolbox_cls">\n                <div class="toolbox-name-header">\n                    <h1 class="toolname"><a href="https://github.com/SenteraLLC/ULabel">ULABEL</a></h1>\x3c!--\n                    --\x3e<div class="night-button-cont">\n                        <a href="#" class="night-button">\n                            <div class="night-button-track">\n                                <div class="night-status"></div>\n                            </div>\n                        </a>\n                    </div>\n                </div>\n                <div class="toolbox_inner_cls">\n                    <div class="mode-selection">\n                        <p class="current_mode_container">\n                            <span class="cmlbl">Mode:</span>\n                            <span class="current_mode"></span>\n                        </p>\n                    </div>\n                    <div class="toolbox-divider"></div>\n                    <div class="zoom-pan">\n                        <div class="half-tb htbmain set-zoom">\n                            <p class="shortcut-tip">ctrl+scroll or shift+drag</p>\n                            <div class="zpcont">\n                                <div class="lblpyldcont">\n                                    <span class="pzlbl htblbl">Zoom</span>\n                                    <span class="zinout htbpyld">\n                                        <a href="#" class="zbutt zout">-</a>\n                                        <a href="#" class="zbutt zin">+</a>\n                                    </span>\n                                </div>\n                            </div>\n                        </div>\x3c!--\n                        --\x3e<div class="half-tb htbmain set-pan">\n                            <p class="shortcut-tip">scrollclick+drag or ctrl+drag</p>\n                            <div class="zpcont">\n                                <div class="lblpyldcont">\n                                    <span class="pzlbl htblbl">Pan</span>\n                                    <span class="panudlr htbpyld">\n                                        <a href="#" class="pbutt left"></a>\n                                        <a href="#" class="pbutt right"></a>\n                                        <a href="#" class="pbutt up"></a>\n                                        <a href="#" class="pbutt down"></a>\n                                        <span class="spokes"></span>\n                                    </span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="toolbox-divider"></div>\n                    <div class="linestyle">\n                        <p class="tb-header">Line Width</p>\n                        <div class="lstyl-row">\n                            <div class="line-expl">\n                                <a href="#" class="wbutt wout">-</a>\n                                <canvas \n                                    id="${t.config.canvas_did}" \n                                    class="demo-canvas" \n                                    width=${t.config.demo_width} \n                                    height=${t.config.demo_height}></canvas>\n                                <a href="#" class="wbutt win">+</a>\n                            </div>\x3c!--\n                            --\x3e<div class="setting">\n                                <a class="fixed-setting">Fixed</a><br>\n                                <a href="#" class="dyn-setting">Dynamic</a>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="toolbox-divider"></div>\n                    <div class="classification">\n                        <p class="tb-header">Annotation ID</p>\n                        <div class="id-toolbox-app"></div>\n                    </div>\n                </div>\n            </div>\n        </div>`;e()("#"+t.config.container_id).html(n);const i=t.config.toolbox_id;let o=[];for(var a=0;a<t.config.allowed_modes.length;a++){let e=' href="#"',n="";switch(t.config.allowed_modes[a]){case"bbox":"bbox"==t.annotation_state.mode&&(n=" sel",e=""),o.push(`<div class="mode-opt">\n                        <a${e} id="md-btn--bbox" class="md-btn${n}" amdname="Bounding Box">\n                            \n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"\n   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"\n   width="100mm"\n   height="100mm"\n   viewBox="0 0 100 100"\n   version="1.1"\n   id="svg7244"\n   inkscape:version="0.92.5 (2060ec1f9f, 2020-04-08)"\n   sodipodi:docname="bbox.svg">\n  <defs\n     id="defs7238">\n    <marker\n       inkscape:stockid="DotL"\n       orient="auto"\n       refY="0"\n       refX="0"\n       id="DotL"\n       style="overflow:visible"\n       inkscape:isstock="true">\n      <path\n         inkscape:connector-curvature="0"\n         id="path4587"\n         d="m -2.5,-1 c 0,2.76 -2.24,5 -5,5 -2.76,0 -5,-2.24 -5,-5 0,-2.76 2.24,-5 5,-5 2.76,0 5,2.24 5,5 z"\n         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"\n         transform="matrix(0.8,0,0,0.8,5.92,0.8)" />\n    </marker>\n    <marker\n       inkscape:stockid="DotL"\n       orient="auto"\n       refY="0"\n       refX="0"\n       id="marker7235"\n       style="overflow:visible"\n       inkscape:isstock="true">\n      <path\n         inkscape:connector-curvature="0"\n         id="path7233"\n         d="m -2.5,-1 c 0,2.76 -2.24,5 -5,5 -2.76,0 -5,-2.24 -5,-5 0,-2.76 2.24,-5 5,-5 2.76,0 5,2.24 5,5 z"\n         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"\n         transform="matrix(0.8,0,0,0.8,5.92,0.8)" />\n    </marker>\n  </defs>\n  <sodipodi:namedview\n     id="base"\n     pagecolor="#ffffff"\n     bordercolor="#666666"\n     borderopacity="1.0"\n     inkscape:pageopacity="0.0"\n     inkscape:pageshadow="2"\n     inkscape:zoom="1.4"\n     inkscape:cx="319.49724"\n     inkscape:cy="182.97951"\n     inkscape:document-units="mm"\n     inkscape:current-layer="layer1"\n     showgrid="false"\n     inkscape:window-width="1848"\n     inkscape:window-height="1016"\n     inkscape:window-x="1992"\n     inkscape:window-y="111"\n     inkscape:window-maximized="1" />\n  <metadata\n     id="metadata7241">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title />\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <g\n     inkscape:label="Layer 1"\n     inkscape:groupmode="layer"\n     id="layer1"\n     transform="translate(0,-197)">\n    <path\n       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:1.48994207;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker-start:url(#DotL);marker-mid:url(#DotL);paint-order:stroke fill markers"\n       d="m 10,207 v 80 h 80 v -80 z"\n       id="path3715"\n       inkscape:connector-curvature="0"\n       sodipodi:nodetypes="ccccc" />\n  </g>\n</svg>\n\n                        </a>\n                    </div>`);break;case"polygon":"polygon"==t.annotation_state.mode&&(n=" sel",e=""),o.push(`<div class="mode-opt">\n                        <a${e} id="md-btn--polygon" class="md-btn${n}" amdname="Polygon">\n                            \n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"\n   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"\n   width="100mm"\n   height="100mm"\n   viewBox="0 0 100 100"\n   version="1.1"\n   id="svg7244"\n   inkscape:version="0.92.5 (2060ec1f9f, 2020-04-08)"\n   sodipodi:docname="polygon.svg">\n  <defs\n     id="defs7238">\n    <marker\n       inkscape:stockid="DotL"\n       orient="auto"\n       refY="0"\n       refX="0"\n       id="DotL"\n       style="overflow:visible"\n       inkscape:isstock="true">\n      <path\n         inkscape:connector-curvature="0"\n         id="path4587"\n         d="m -2.5,-1 c 0,2.76 -2.24,5 -5,5 -2.76,0 -5,-2.24 -5,-5 0,-2.76 2.24,-5 5,-5 2.76,0 5,2.24 5,5 z"\n         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"\n         transform="matrix(0.8,0,0,0.8,5.92,0.8)" />\n    </marker>\n    <marker\n       inkscape:stockid="DotL"\n       orient="auto"\n       refY="0"\n       refX="0"\n       id="marker7235"\n       style="overflow:visible"\n       inkscape:isstock="true">\n      <path\n         inkscape:connector-curvature="0"\n         id="path7233"\n         d="m -2.5,-1 c 0,2.76 -2.24,5 -5,5 -2.76,0 -5,-2.24 -5,-5 0,-2.76 2.24,-5 5,-5 2.76,0 5,2.24 5,5 z"\n         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"\n         transform="matrix(0.8,0,0,0.8,5.92,0.8)" />\n    </marker>\n  </defs>\n  <sodipodi:namedview\n     id="base"\n     pagecolor="#ffffff"\n     bordercolor="#666666"\n     borderopacity="1.0"\n     inkscape:pageopacity="0.0"\n     inkscape:pageshadow="2"\n     inkscape:zoom="1.4"\n     inkscape:cx="446.28295"\n     inkscape:cy="182.97951"\n     inkscape:document-units="mm"\n     inkscape:current-layer="layer1"\n     showgrid="false"\n     inkscape:window-width="1848"\n     inkscape:window-height="1016"\n     inkscape:window-x="1992"\n     inkscape:window-y="111"\n     inkscape:window-maximized="1" />\n  <metadata\n     id="metadata7241">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <g\n     inkscape:label="Layer 1"\n     inkscape:groupmode="layer"\n     id="layer1"\n     transform="translate(0,-197)">\n    <path\n       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:1.48994207;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker-start:url(#DotL);marker-mid:url(#DotL);paint-order:stroke fill markers"\n       d="m 41.284493,204.35565 -33.5734849,28.74943 7.6220859,56.71655 76.946838,-12.1256 -41.921509,-38.137 z"\n       id="path3715"\n       inkscape:connector-curvature="0" />\n  </g>\n</svg>\n\n                        </a>\n                    </div>`);break;case"contour":"contour"==t.annotation_state.mode&&(n=" sel",e=""),o.push(`<div class="mode-opt">\n                        <a${e} id="md-btn--contour" class="md-btn${n}" amdname="Contour">\n                            \n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"\n   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"\n   width="100mm"\n   height="100mm"\n   viewBox="0 0 100 100"\n   version="1.1"\n   id="svg7244"\n   inkscape:version="0.92.5 (2060ec1f9f, 2020-04-08)"\n   sodipodi:docname="contour.svg">\n  <defs\n     id="defs7238">\n    <marker\n       inkscape:stockid="DotL"\n       orient="auto"\n       refY="0"\n       refX="0"\n       id="DotL"\n       style="overflow:visible"\n       inkscape:isstock="true">\n      <path\n         inkscape:connector-curvature="0"\n         id="path4587"\n         d="m -2.5,-1 c 0,2.76 -2.24,5 -5,5 -2.76,0 -5,-2.24 -5,-5 0,-2.76 2.24,-5 5,-5 2.76,0 5,2.24 5,5 z"\n         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"\n         transform="matrix(0.8,0,0,0.8,5.92,0.8)" />\n    </marker>\n    <marker\n       inkscape:stockid="DotL"\n       orient="auto"\n       refY="0"\n       refX="0"\n       id="marker7235"\n       style="overflow:visible"\n       inkscape:isstock="true">\n      <path\n         inkscape:connector-curvature="0"\n         id="path7233"\n         d="m -2.5,-1 c 0,2.76 -2.24,5 -5,5 -2.76,0 -5,-2.24 -5,-5 0,-2.76 2.24,-5 5,-5 2.76,0 5,2.24 5,5 z"\n         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"\n         transform="matrix(0.8,0,0,0.8,5.92,0.8)" />\n    </marker>\n  </defs>\n  <sodipodi:namedview\n     id="base"\n     pagecolor="#ffffff"\n     bordercolor="#666666"\n     borderopacity="1.0"\n     inkscape:pageopacity="0.0"\n     inkscape:pageshadow="2"\n     inkscape:zoom="1.4"\n     inkscape:cx="194.1401"\n     inkscape:cy="180.12237"\n     inkscape:document-units="mm"\n     inkscape:current-layer="layer1"\n     showgrid="false"\n     inkscape:window-width="1848"\n     inkscape:window-height="1016"\n     inkscape:window-x="1992"\n     inkscape:window-y="111"\n     inkscape:window-maximized="1" />\n  <metadata\n     id="metadata7241">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title />\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <g\n     inkscape:label="Layer 1"\n     inkscape:groupmode="layer"\n     id="layer1"\n     transform="translate(0,-197)">\n    <path\n       style="fill:none;stroke:#000000;stroke-width:5.465;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"\n       d="m 81.075893,208.17559 c -34.584822,16.06399 -59.342262,13.60715 -61.988096,34.01786 -2.645833,20.41071 1.700893,48.38095 11.150298,49.51488 9.449403,1.13393 31.938986,1.13393 37.986607,-6.4256 6.047618,-7.55952 12.284226,-19.65476 12.095237,-30.80505 -0.188987,-11.1503 -6.425594,-34.01786 -34.206844,-52.34971"\n       id="path865"\n       inkscape:connector-curvature="0" />\n  </g>\n</svg>\n\n                        </a>\n                    </div>`);break;case"tbar":"tbar"==t.annotation_state.mode&&(n=" sel",e=""),o.push(`<div class="mode-opt">\n                        <a${e} id="md-btn--tbar" class="md-btn${n}" amdname="T-Bar">\n                            \n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"\n   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"\n   width="100mm"\n   height="100mm"\n   viewBox="0 0 100 100"\n   version="1.1"\n   id="svg7244"\n   inkscape:version="0.92.5 (2060ec1f9f, 2020-04-08)"\n   sodipodi:docname="tbar.svg">\n  <defs\n     id="defs7238">\n    <marker\n       inkscape:stockid="DotL"\n       orient="auto"\n       refY="0"\n       refX="0"\n       id="DotL"\n       style="overflow:visible"\n       inkscape:isstock="true">\n      <path\n         inkscape:connector-curvature="0"\n         id="path4587"\n         d="m -2.5,-1 c 0,2.76 -2.24,5 -5,5 -2.76,0 -5,-2.24 -5,-5 0,-2.76 2.24,-5 5,-5 2.76,0 5,2.24 5,5 z"\n         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"\n         transform="matrix(0.8,0,0,0.8,5.92,0.8)" />\n    </marker>\n    <marker\n       inkscape:stockid="DotL"\n       orient="auto"\n       refY="0"\n       refX="0"\n       id="marker7235"\n       style="overflow:visible"\n       inkscape:isstock="true">\n      <path\n         inkscape:connector-curvature="0"\n         id="path7233"\n         d="m -2.5,-1 c 0,2.76 -2.24,5 -5,5 -2.76,0 -5,-2.24 -5,-5 0,-2.76 2.24,-5 5,-5 2.76,0 5,2.24 5,5 z"\n         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"\n         transform="matrix(0.8,0,0,0.8,5.92,0.8)" />\n    </marker>\n  </defs>\n  <sodipodi:namedview\n     id="base"\n     pagecolor="#ffffff"\n     bordercolor="#666666"\n     borderopacity="1.0"\n     inkscape:pageopacity="0.0"\n     inkscape:pageshadow="2"\n     inkscape:zoom="1.4"\n     inkscape:cx="194.1401"\n     inkscape:cy="180.12237"\n     inkscape:document-units="mm"\n     inkscape:current-layer="layer1"\n     showgrid="false"\n     inkscape:window-width="1920"\n     inkscape:window-height="1043"\n     inkscape:window-x="0"\n     inkscape:window-y="0"\n     inkscape:window-maximized="1" />\n  <metadata\n     id="metadata7241">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <g\n     inkscape:label="Layer 1"\n     inkscape:groupmode="layer"\n     id="layer1"\n     transform="translate(0,-197)">\n    <path\n       style="fill:none;stroke:#000000;stroke-width:5.54668236;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"\n       d="m 34.757974,262.61957 54.396902,-54.3973"\n       id="path848"\n       inkscape:connector-curvature="0" />\n    <path\n       style="fill:none;stroke:#000000;stroke-width:5.92665672;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"\n       d="M 7.3110211,235.09974 63.120496,290.9085"\n       id="path850"\n       inkscape:connector-curvature="0" />\n  </g>\n</svg>\n\n                        </a>\n                    </div>`);break;default:console.log('Allowed mode "'+t.config.allowed_modes[a]+'" not understood. Ignoring.')}}e()("#"+i+" .toolbox_inner_cls .mode-selection").append(o.join("\x3c!-- --\x3e")),e()("#"+i+" .toolbox_inner_cls").append('\n            <a href="#" id="submit-button">Submit</a>\n        '),t.show_annotation_mode(),e()("#"+t.config.toolbox_id+" .toolbox_inner_cls").height()>e()("#"+t.config.container_id).height()&&e()("#"+t.config.toolbox_id).css("overflow-y","scroll")}static build_id_dialogs(t){const n=t.id_dialog_config.id,i=t.id_dialog_config.outer_diameter;var o=`\n        <div id="${n}" class="id_dialog" style="width: ${i}px; height: ${i}px;">\n            <a class="id-dialog-clickable-indicator" href="#"></a>\n            <svg width="${i}" height="${i}">\n        `,a='<div class="toolbox-id-app-payload">';const s=i/2;var r=[];if(null==t.config.class_defs)throw new Error("No taxonomy was provided.");for(var l=0;l<t.config.class_defs.length;l++)r.push(t.config.class_defs[l].id);const c=t.id_dialog_config.inner_prop*i/2,d=2*c,u=.5*i,p=u-c,h=u-c;let f=t.config.toolbox_id;for(var g=0;g<r.length;g++){let e=1/r.length,n=g/r.length,i=1/r.length,l=1-i,d=c+1*(u-c)/2,p=c+e*(u-c)/2,h=1*(u-c),_=e*(u-c),m=2*Math.PI*d*i,v=2*Math.PI*d*l,y=2*Math.PI*d*n,b=2*Math.PI*p*i,x=2*Math.PI*p*l,w=2*Math.PI*p*n,k=r[g],T=t.config.class_defs[g].color,C=t.config.class_defs[g].name;o+=`\n            <circle\n                r="${d}" cx="${s}" cy="${s}" \n                stroke="${T}" \n                fill-opacity="0"\n                stroke-opacity="0.4"\n                stroke-width="${h}"; \n                stroke-dasharray="${m} ${v}" \n                stroke-dashoffset="${y}" />\n            <circle\n                id="circ_${k}"\n                r="${p}" cx="${s}" cy="${s}"\n                fill-opacity="0"\n                stroke="${T}" \n                stroke-opacity="1.0"\n                stroke-width="${_}" \n                stroke-dasharray="${b} ${x}" \n                stroke-dashoffset="${w}" />\n            `;let S="",E=' href="#"';if(0==g&&(S=" sel",E=""),t.config["soft-id"])throw new Error("Only hard id is currently supported");a+=`\n                    <a${E} id="${f}_sel_${k}" class="tbid-opt${S}">\n                        <div class="colprev ${f}_colprev_${k}" style="background-color: ${T}"></div> <span class="tb-cls-nam">${C}</span>\n                    </a>\n                `}o+='\n            </svg>\n            <div class="centcirc"></div>\n        </div>',a+="\n        </div>\n        ",e()("#"+t.config.imwrap_id).append(o),e()("#"+t.config.toolbox_id+" div.id-toolbox-app").html(a),e()("#"+t.config.imwrap_id+" a.id-dialog-clickable-indicator").css({height:`${i}px`,width:`${i}px`,"border-radius":`${u}px`}),e()("#"+t.config.imwrap_id+" div.centcirc").css({position:"absolute",top:`${p}px`,left:`${h}px`,width:`${d}px`,height:`${d}px`,"background-color":"black","border-radius":`${c}px`}),t.viewer_state.visible_dialogs.id_dialog={left:0,top:0,pin:"center"}}static build_edit_suggestion(t){e()("#"+t.config.imwrap_id).append('\n            <a href="#" id="edit_suggestion" class="editable"></a>\n        '),e()("#edit_suggestion").css({height:t.config.edit_handle_size+"px",width:t.config.edit_handle_size+"px","border-radius":t.config.edit_handle_size/2+"px"}),t.viewer_state.visible_dialogs.edit_suggestion={left:0,top:0,pin:"center"};let n="",i="";t.compiled_config.single_class_mode||(n='--\x3e<a href="#" class="reid_suggestion global_sub_suggestion gedit-target"></a>\x3c!--',i=" mcm"),e()("#"+t.config.imwrap_id).append(`\n            <div id="global_edit_suggestion" class="glob_editable gedit-target${i}">\n                <a href="#" class="move_suggestion global_sub_suggestion movable gedit-target">\n                    <img class="movable gedit-target" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAdVBMVEX///8jHyAAAAD7+/sfGxwcFxhta2s3NDUEAABxcHBqaWnr6+seGRoSCw0yLzC0s7O6ubl4dncLAAN9fHz19fUsKCkWERInIyTW1dV5eHjBwMCko6ODgoJAPj7o5+jw7/BYVleLiopHRUXKysqtrK1PTE0/PD0MlkEbAAAF+ElEQVR4nO2d63aiMBRGIYJTWhyrKPZia2sv7/+IQ7QWYhLITcmXyf41yzWLOXs+GsDmHJLkqsz32X5+3X/yuhSkTEuyGLuMyzElKYVMxy7kUhRHwUaxGLuUyzA9CYaaYtEKhpkiIxii4pQVDO9ELc4FQ0uRSzC0FAUJhpXi7Y1QMJwUC5lgKClO5YJhpNgrGEKKwlU0pBQHEqTcQCv2LDIdReATVXqZOFO8HbtQU5QSRE5RMUHcFJUTRE1RYRVlFOFWVE1BPEVtQbRLv8Yig5miQYIHRZjlxijBgyLIRWMxdLMthzyOXbwKH+aCjeLH2OUrsJ1ZGM62Y5evwKK2MKwRTtNPq7P0c+zyFZisc2PBfD0Zu3wV7kpeUfSzyX+WZ3djF68Gr0jul5zO8v78dM5LEMFGMWUVyVMi+L1F8sR+mKcwgo1i1lUk98lEYDhJmBRhTtEj3RSbBCWGXUWoBCltik2CUsNWESxByinFg6DU8KQIlyDlrmwuB/lRUG7YKDb/EzOcVbTLakHI18Pxz3LD5OGLkMVqvDId0WMYCNEQn2iITzTEJxriEw3xiYb4REN8oiE+0RCfaIhPNMQnGuITDfGJhvhEQ3yiIT7RMABEe6LCojjfpzcD2pmvxC5flllLuSx3Y5d04KMqnh39uEy2L39aXrauDvtcVBZ7wxdkVpO1z5t5XteknpmP9Lk9LA95/uqyJqe85oetZcSwT+PU+VLWvqZ4V5fHEs0aitrOlzzzM8XOLlYTxW7vkp9bI5nN1vqKbHNWvvFP8Wyrta7iefeZf/s/2Y3W2op8e12+8eMKfWK34VoedAZQiPoH841Pe0BXqaBtRb0LVTwwZ+lT01UlbB9TTVE2rGN52aK1kJSolqJk5JFfjzvSGhVSlI5bqd8uXrc6b7LusWFFaYIpebhG6Yo8yMscUOwRvL9O7YpwbWGKijCCpopAgmaKUIImivI+euLn6N+5vGDhUz9YghS9FOWCMz8TpMylvf98inLB5naNqFPZ3p/vHjX+Nb67WJqixSwLlllp9zXhpLYZydCFTdGZYBP4u5XhticWTbqKfaeoLuWLleF36a6UVtFhgmma/bUy/Js5rOU0DMapoFeGPylWTgX9MkxJ1XdjYIZfhvRu5cvxIT0zLN8Sx0f0zTDNkr3D5flwRL8Msy+7kUCiQ/plSIcWBb+W/gfXwyR5DPaepjod1mWK5beVodP70qo9bpjPFlX3wO6eD3O758OVu+fDij2yq2f8wvYZf1U4esbnpvfJU8T8nqbi/3ZY37UJ5y+G9H2pIEEKWIq6CVKgFHsEJQlSgBTNBIEUTQVD+B3wgGCPIsjv8QcF0fdiKAhi7KeRzERXE0TeE6UoKNnXlvq/r01ZEHVvotZJ5v/+Uk5RJ0GK/3uEd+zccF1BhH3eTIr6ggh79Tspmggi9Fv8pqi3yLT43zOz29TmCVIeD31P/go2it+078niC8yL9a59v7vqIJ0v3v146OH7D326RXIB30Nq3FLnKfzN/M3YJbkl/F7uaIhPNMQnGuITDfGJhvhEQ3yiIT7REJ9oiE80xCca4hMN8YmG+ERDfKIhPtEQn2iISfDv5Q7+3eqnAapHRanhT9+Ef/tXB2kHqB4UZYa/jSF+bvDsoTsClzxJDTudL2ApsiNwmxTFhkxrD1SKZ0OMaYqidyM8sR8CpciMof5Jke/YXXLNWTnKisoLNpcD7hPRZyAn6mQt67oaJl8j3OhYDUuho0i8Z1FbGNbSDl6PeLcZijCzmzlxHeTtnQp41agqxWKkj3lbwXW5lfQ/DnJj+K6R6yPqX1QR1Bj9PzZGimavUhkL6WR3OepvNvAD7RSxEqRoKuIJJkmho4i0yLRoXDRwLhMsyiliJkhRTBE1QYpSirgJUhRWVMRVtMvgpR/tQs8zkCL2KXqkVxE/QUrPcqPzIjGfkV40wkiQIkkxlAQpwhTDSZAiGMwUUoIUbkUNK0HKWYqhJUhhFEMUZG7gwjtFj/ymGGaClJ8UQ02QsiBZmpm/KByB+T7bX3ko8T9Zz1H5wFZx8QAAAABJRU5ErkJggg==">\n                </a>\x3c!--\n                ${n}\n                --\x3e<a href="#" class="delete_suggestion global_sub_suggestion gedit-target">\n                    <span class="bigx gedit-target">&#215;</span>\n                </a>\n            </div>\n        `),t.viewer_state.visible_dialogs.global_edit_suggestion={left:0,top:0,pin:"center"}}static create_listeners(t){e()("#"+t.id_dialog_config.id).on("mousemove",(function(e){t.id_dialog_state.thumbnail||t.handle_id_dialog_hover(e)}));var n=e()("#"+t.config.annbox_id);n.mousedown((function(e){t.handle_mouse_down(e)})),e()(window).mouseup((function(e){t.handle_mouse_up(e)})),n.mousemove((function(e){t.handle_mouse_move(e)})),document.getElementById(t.config.annbox_id).onwheel=function(e){if(e.ctrlKey){e.preventDefault();const n=Math.sign(e.deltaY);t.viewer_state.zoom_val*=1-n/10,t.rezoom(e.clientX,e.clientY)}},new ResizeObserver((function(){t.reposition_dialogs()})).observe(document.getElementById(t.config.imwrap_id)),e()("a.md-btn").click((function(n){if(!e()(this).hasClass("sel")&&!t.annotation_state.is_in_progress){var i=e()(this).attr("id").split("--")[1];t.annotation_state.mode=i,e()("a.md-btn.sel").attr("href","#"),e()("a.md-btn.sel").removeClass("sel"),e()(this).addClass("sel"),e()(this).removeAttr("href"),t.show_annotation_mode(e()(this))}})),e()("#"+t.config.toolbox_id+" .zbutt").click((function(n){e()(this).hasClass("zin")?t.viewer_state.zoom_val*=1.1:e()(this).hasClass("zout")&&(t.viewer_state.zoom_val/=1.1),t.rezoom()})),e()("#"+t.config.toolbox_id+" .pbutt").click((function(n){let i=e()("#"+t.config.annbox_id);e()(this).hasClass("up")?i.scrollTop(i.scrollTop()-20):e()(this).hasClass("down")?i.scrollTop(i.scrollTop()+20):e()(this).hasClass("left")?i.scrollLeft(i.scrollLeft()-20):e()(this).hasClass("right")&&i.scrollLeft(i.scrollLeft()+20)})),e()("#"+t.config.toolbox_id+" .wbutt").click((function(n){e()(this).hasClass("win")?t.annotation_state.line_size*=1.1:e()(this).hasClass("wout")&&(t.annotation_state.line_size/=1.1),t.redraw_demo()})),e()("#"+t.config.toolbox_id+" .setting a").click((function(n){this.hasAttribute("href")&&(e()(this).hasClass("fixed-setting")?(e()("#"+t.config.toolbox_id+" .setting a.fixed-setting").removeAttr("href"),e()("#"+t.config.toolbox_id+" .setting a.dyn-setting").attr("href","#"),t.annotation_state.line_size=t.annotation_state.line_size*t.viewer_state.zoom_val,t.annotation_state.size_mode="fixed"):e()(this).hasClass("dyn-setting")&&(e()("#"+t.config.toolbox_id+" .setting a.dyn-setting").removeAttr("href"),e()("#"+t.config.toolbox_id+" .setting a.fixed-setting").attr("href","#"),t.annotation_state.line_size=t.get_line_size(),t.annotation_state.size_mode="dynamic"),t.redraw_demo())})),e()("#"+t.config.toolbox_id+" a.tbid-opt").click((function(){if("#"==e()(this).attr("href")){e()("a.tbid-opt.sel").attr("href","#"),e()("a.tbid-opt.sel").removeClass("sel"),e()(this).addClass("sel"),e()(this).removeAttr("href");let n=e()(this).attr("id").split("_"),i=parseInt(n[n.length-1]);t.set_id_dialog_payload_nopin(t.config.class_ids.indexOf(i),1),t.update_id_dialog_display()}})),e()("#"+t.config.annbox_id+" a.id-dialog-clickable-indicator").click((function(e){t.id_dialog_state.thumbnail||t.handle_id_dialog_click(e)})),e()("#global_edit_suggestion a.reid_suggestion").click((function(e){let n=t.id_dialog_state.associated_annotation;t.hide_global_edit_suggestion(),t.show_id_dialog(t.get_global_mouse_x(e),t.get_global_mouse_y(e),n,!1)})),e()("#"+t.config.annbox_id+" .delete_suggestion").click((function(){t.delete_annotation(t.annotation_state.move_candidate.annid)})),e()("a#submit-button").on("click",(function(){for(var e={task_meta:t.config.task_meta,annotations:[]},n=0;n<t.annotations.ordering.length;n++)e.annotations.push(t.annotations.access[t.annotations.ordering[n]]);t.config.done_callback(e)})),e()("#"+t.config.toolbox_id+" a.night-button").click((function(){e()("#"+t.config.container_id).hasClass("ulabel-night")?(e()("#"+t.config.container_id).removeClass("ulabel-night"),l.destroy_night_mode_cookie()):(e()("#"+t.config.container_id).addClass("ulabel-night"),l.set_night_mode_cookie())})),document.onkeypress=function(e){const n=e.shiftKey;!e.ctrlKey||"z"!=e.key&&"Z"!=e.key&&"KeyZ"!=e.code?console.log(e):n?t.redo():t.undo()}}static compile_configuration(t){let e={};if(null==t.config.class_defs||0==t.config.class_defs.length)e.single_class_mode=!0,t.config.class_defs=[{name:"Weed",color:"Orange",id:2}];else{e.single_class_mode=1==t.config.class_defs.length;for(var n=0;n<t.config.class_defs.length;n++)if("string"==typeof t.config.class_defs[n]){let e=t.config.class_defs[n];t.config.class_defs[n]={name:e,color:a[n],id:n}}}return e}constructor(t,e,n,i,o,a,s=null,r=null,c=null,d=null,u=null){null==d&&(d={}),null==u&&(u={}),this.config={container_id:t,annbox_id:"annbox",imwrap_id:"imwrap",canvas_fid:"front-canvas",canvas_bid:"back-canvas",canvas_did:"demo-canvas",canvas_class:"easel",image_id:"ann_image",imgsz_class:"imgsz",toolbox_id:"toolbox",image_data:e,image_width:null,image_height:null,demo_width:120,demo_height:40,annotator:n,class_defs:i,class_hierarchy:r,class_ids:[],"soft-id":!1,done_callback:a,save_callback:s,resume_from:c,allowed_modes:o,default_annotation_color:"#fa9d2a",annotation_meta:u,task_meta:d,polygon_ender_size:30,edit_handle_size:30},this.compiled_config=l.compile_configuration(this);for(var p=[],h=0;h<this.config.class_defs.length;h++)p.push(this.config.class_defs[h].id);this.config.class_ids=p,this.id_dialog_config={id:"id_dialog",cl_opacity:.4,outer_diameter:200,inner_prop:.3};let f=[];for(var g=0;g<p.length;g++)f.push(1/p.length);if(this.id_dialog_state={visible:!1,associated_annotation:null,id_payload:f,first_explicit_assignment:!1},this.viewer_state={zoom_val:1,visible_dialogs:{},last_move:null},this.drag_state={active_key:null,release_button:null,annotation:{mouse_start:null,offset_start:null,zoom_val_start:null},edit:{mouse_start:null,offset_start:null,zoom_val_start:null},pan:{mouse_start:null,offset_start:null,zoom_val_start:null},zoom:{mouse_start:null,offset_start:null,zoom_val_start:null},move:{mouse_start:null,offset_start:null,zoom_val_start:null}},this.canvas_state={front_context:null,back_context:null,demo_context:null},this.annotation_state={mode:this.config.allowed_modes[0],active_id:null,is_in_progress:!1,is_in_edit:!1,edit_candidate:null,move_candidate:null,line_size:4,size_mode:"fixed"},this.annotations={ordering:[],access:{}},this.actions={stream:[],undone_stack:[]},null!=this.config.resume_from)for(g=0;g<this.config.resume_from.length;g++)this.annotations.ordering.push(this.config.resume_from[g].id),this.annotations.access[this.config.resume_from[g].id]=this.config.resume_from[g],this.annotations.access[this.config.resume_from[g].id].new=!1;this.is_init=!1}init(t){l.add_style_to_document(),l.prep_window_html(this),l.has_night_mode_cookie()&&e()("#"+this.config.container_id).addClass("ulabel-night");var n=document.getElementById(this.config.image_id),i=this;n.onload=function(){i.config.image_height=n.naturalHeight,i.config.image_width=n.naturalWidth,e()("#"+i.config.imwrap_id).append(`\n                <canvas \n                    id="${i.config.canvas_bid}" \n                    class="${i.config.canvas_class} ${i.config.imgsz_class} canvas_cls" \n                    height=${i.config.image_height} \n                    width=${i.config.image_width}></canvas>\n                <canvas \n                    id="${i.config.canvas_fid}" \n                    class="${i.config.canvas_class} ${i.config.imgsz_class} canvas_cls" \n                    height=${i.config.image_height} \n                    width=${i.config.image_width} \n                    oncontextmenu="return false"></canvas>\n            `),i.canvas_state.front_context=document.getElementById(i.config.canvas_fid).getContext("2d"),i.canvas_state.back_context=document.getElementById(i.config.canvas_bid).getContext("2d"),i.canvas_state.demo_context=document.getElementById(i.config.canvas_did).getContext("2d"),l.build_id_dialogs(i),l.build_edit_suggestion(i),l.create_listeners(i),i.is_init=!0,i.viewer_state.zoom_val=i.get_empirical_scale(),i.rezoom(0,0),i.redraw_demo(),null!=i.config.resume_from&&i.redraw_all_annotations(),t.bind(i)}}show_annotation_mode(t=null){null==t&&(t=e()("a.md-btn.sel"));let n=t.attr("amdname");e()("#"+this.config.toolbox_id+" .current_mode").html(n)}redraw_demo(){this.canvas_state.demo_context.clearRect(0,0,this.config.demo_width,this.config.demo_height),this.draw_annotation(i,"demo_context",!0)}get_empirical_scale(){return e()("#"+this.config.canvas_fid).width()/this.config.image_width}make_new_annotation_id(){return r()}get_init_spatial(t,e,n){switch(n){case"bbox":case"polygon":case"contour":case"tbar":return[[t,e],[t,e]];default:return this.raise_error("Annotation mode is not understood",l.elvl_info),null}}get_init_id_payload(){return this.set_id_dialog_payload_to_init(null),JSON.parse(JSON.stringify(this.id_dialog_state.id_payload))}get_with_access_string(t,e,n=!1){switch(this.annotations.access[t].spatial_type){case"bbox":const i=parseInt(e[0],10),o=parseInt(e[1],10);let a=this.annotations.access[t].spatial_payload;return[a[i][0],a[o][1]];case"polygon":let s=parseInt(e,10),r=parseFloat(e)-s;return r<.005?this.annotations.access[t].spatial_payload[s]:n?(r=0,s+=1,this.annotations.access[t].spatial_payload[s]):l.interpolate_poly_segment(this.annotations.access[t].spatial_payload,s,r);case"tbar":const c=parseInt(e[0],10),d=parseInt(e[1],10);let u=this.annotations.access[t].spatial_payload;return[u[c][0],u[d][1]];default:this.raise_error("Unable to apply access string to annotation of type "+this.annotations.access[t].spatial_type,l.elvl_standard)}}set_with_access_string(t,e,n,i=null){switch(this.annotations.access[t].spatial_type){case"bbox":var o=parseInt(e[0],10),a=parseInt(e[1],10);this.annotations.access[t].spatial_payload[o][0]=n[0],this.annotations.access[t].spatial_payload[a][1]=n[1];break;case"tbar":o=parseInt(e[0],10),a=parseInt(e[1],10),this.annotations.access[t].spatial_payload[o][0]=n[0],this.annotations.access[t].spatial_payload[a][1]=n[1];break;case"polygon":var s=parseInt(e,10),r=parseFloat(e)-s;if(r<.005){var c=parseInt(e,10),d=this.annotations.access[t].spatial_payload.length;0==c||c==d-1?(this.annotations.access[t].spatial_payload[0]=[n[0],n[1]],this.annotations.access[t].spatial_payload[d-1]=[n[0],n[1]]):this.annotations.access[t].spatial_payload[c]=n}else if(!0===i)this.annotations.access[t].spatial_payload.splice(s+1,1);else if(!1===i)this.annotations.access[t].spatial_payload.splice(s+1,0,[n[0],n[1]]);else{var u=l.interpolate_poly_segment(this.annotations.access[t].spatial_payload,s,r);this.annotations.access[t].spatial_payload.splice(s+1,0,u)}break;default:this.raise_error("Unable to apply access string to annotation of type "+this.annotations.access[t].spatial_type,l.elvl_standard)}}get_annotation_color(t,n=!1){if(this.config["soft-id"])return this.config.default_annotation_color;let i=JSON.parse(JSON.stringify(this.id_dialog_state.id_payload));if(n){let t=1,n=this.config.class_ids,a=e()("a.tbid-opt.sel").attr("id").split("_"),s=n.indexOf(parseInt(a[a.length-1]));for(var o=0;o<n.length;o++)i[o]=o==s?{class_id:n[o],confidence:t}:{class_id:n[o],confidence:(1-t)/(n.length-1)}}else null!=t&&(i=t);for(o=0;o<i.length;o++)if(i[o].confidence>.5)return this.config.class_defs[o].color;return this.config.default_annotation_color}draw_bounding_box(t,e="front_context",n=!1,i=null){let o=this.canvas_state[e],a=0,s=0;null!=i&&(a=i.diffX,s=i.diffY);let r=null;r="line_size"in t?t.line_size:this.get_line_size(n);let l=this.get_annotation_color(t.classification_payloads);o.fillStyle=l,o.strokeStyle=l,o.lineJoin="round",o.lineWidth=r,o.imageSmoothingEnabled=!1,o.globalCompositeOperation="source-over";const c=t.spatial_payload[0],d=t.spatial_payload[1];o.beginPath(),o.moveTo(c[0]+a,c[1]+s),o.lineTo(c[0]+a,d[1]+s),o.lineTo(d[0]+a,d[1]+s),o.lineTo(d[0]+a,c[1]+s),o.lineTo(c[0]+a,c[1]+s),o.closePath(),o.stroke()}draw_polygon(t,e="front_context",n=!1,i=null){let o=this.canvas_state[e],a=0,s=0;null!=i&&(a=i.diffX,s=i.diffY);let r=null;r="line_size"in t?t.line_size:this.get_line_size(n);let l=this.get_annotation_color(t.classification_payloads,n);o.fillStyle=l,o.strokeStyle=l,o.lineJoin="round",o.lineWidth=r,o.lineCap="round",o.imageSmoothingEnabled=!1,o.globalCompositeOperation="source-over";const c=t.spatial_payload;o.beginPath(),o.moveTo(c[0][0]+a,c[0][1]+s);for(var d=1;d<c.length;d++)o.lineTo(c[d][0]+a,c[d][1]+s);o.stroke()}draw_contour(t,e="front_context",n=!1,i=null){let o=this.canvas_state[e],a=0,s=0;null!=i&&(a=i.diffX,s=i.diffY);let r=null;r="line_size"in t?t.line_size:this.get_line_size(n);let l=this.get_annotation_color(t.classification_payloads,n);o.fillStyle=l,o.strokeStyle=l,o.lineJoin="round",o.lineWidth=r,o.lineCap="round",o.imageSmoothingEnabled=!1,o.globalCompositeOperation="source-over";const c=t.spatial_payload;o.beginPath(),o.moveTo(c[0][0]+a,c[0][1]+s);for(var d=1;d<c.length;d++)o.lineTo(c[d][0]+a,c[d][1]+s);o.stroke()}draw_tbar(t,e="front_context",n=!1,i=null){let o=this.canvas_state[e],a=0,s=0;null!=i&&(a=i.diffX,s=i.diffY);let r=null;r="line_size"in t?t.line_size:this.get_line_size(n);let l=this.get_annotation_color(t.classification_payloads,n);o.fillStyle=l,o.strokeStyle=l,o.lineJoin="round",o.lineWidth=r,o.imageSmoothingEnabled=!1,o.globalCompositeOperation="source-over";const c=t.spatial_payload[0],d=t.spatial_payload[1];o.beginPath(),o.moveTo(c[0]+a,c[1]+s),o.lineTo(d[0]+a,d[1]+s),o.stroke();let u=Math.sqrt((c[0]-d[0])*(c[0]-d[0])+(c[1]-d[1])*(c[1]-d[1]))/2,p=Math.atan((d[1]-c[1])/(d[0]-c[0])),h=[c[0]+u*Math.sin(p),c[1]-u*Math.cos(p)],f=[c[0]-u*Math.sin(p),c[1]+u*Math.cos(p)];o.lineCap="square",o.beginPath(),o.moveTo(h[0]+a,h[1]+s),o.lineTo(f[0]+a,f[1]+s),o.stroke(),o.lineCap="round"}draw_annotation(t,e="front_context",n=!1,i=null){if(!t.deprecated)switch(t.spatial_type){case"bbox":this.draw_bounding_box(t,e,n,i);break;case"polygon":this.draw_polygon(t,e,n,i);break;case"contour":this.draw_contour(t,e,n,i);break;case"tbar":this.draw_tbar(t,e,n,i);break;default:this.raise_error("Warning: Annotation "+t.id+" not understood",l.elvl_info)}}draw_annotation_from_id(t,e="front_context",n=null){this.draw_annotation(this.annotations.access[t],e,!1,n)}draw_n_annotations(t,e="front_context",n=null){for(var i=0;i<t;i++)null!=n&&n.id==this.annotations.ordering[i]?this.draw_annotation_from_id(this.annotations.ordering[i],e,n):this.draw_annotation_from_id(this.annotations.ordering[i])}redraw_all_annotations(t=null){this.canvas_state.front_context.clearRect(0,0,this.config.image_width,this.config.image_height),this.draw_n_annotations(this.annotations.ordering.length,"front_context",t)}reposition_dialogs(){var t=e()("#"+this.config.imwrap_id);const n=t.width(),i=t.height();for(var o in this.viewer_state.visible_dialogs){let t=this.viewer_state.visible_dialogs[o],a=e()("#"+o),s=t.left*n,r=t.top*i;switch(t.pin){case"center":s-=a.width()/2,r-=a.height()/2}a.css("left",s+"px"),a.css("top",r+"px")}}create_polygon_ender(t,n,i){const o="ender_"+i,a=`\n        <a href="#" id="${o}" class="ender_outer">\n            <span id="${o}_inner" class="ender_inner"></span>\n        </a>\n        `;e()("#"+this.config.imwrap_id).append(a),e()("#"+o).css({width:this.config.polygon_ender_size+"px",height:this.config.polygon_ender_size+"px","border-radius":this.config.polygon_ender_size/2+"px"}),e()("#"+o+"_inner").css({width:this.config.polygon_ender_size/5+"px",height:this.config.polygon_ender_size/5+"px","border-radius":this.config.polygon_ender_size/10+"px",top:2*this.config.polygon_ender_size/5+"px",left:2*this.config.polygon_ender_size/5+"px"}),this.viewer_state.visible_dialogs[o]={left:t/this.config.image_width,top:n/this.config.image_height,pin:"center"},this.reposition_dialogs()}destroy_polygon_ender(t){const n="ender_"+t;e()("#"+n).remove(),delete this.viewer_state.visible_dialogs[n],this.reposition_dialogs()}show_edit_suggestion(t,n){var i=e()("#edit_suggestion");i.css("display","block"),n?i.removeClass("soft"):i.addClass("soft"),this.viewer_state.visible_dialogs.edit_suggestion.left=t.point[0]/this.config.image_width,this.viewer_state.visible_dialogs.edit_suggestion.top=t.point[1]/this.config.image_height,this.reposition_dialogs()}hide_edit_suggestion(){e()("#edit_suggestion").css("display","none")}show_global_edit_suggestion(t,n=null){e()("#global_edit_suggestion").css("display","block");let i=0,o=0;null!=n&&(i=n.diffX,o=n.diffY);let a=this.annotations.access[t].containing_box,s=(a.tlx+a.brx+2*i)/(2*this.config.image_width),r=(a.tly+a.bry+2*o)/(2*this.config.image_height);this.viewer_state.visible_dialogs.global_edit_suggestion.left=s,this.viewer_state.visible_dialogs.global_edit_suggestion.top=r,this.reposition_dialogs(),this.compiled_config.single_class_mode||this.show_id_dialog((a.tlx+a.brx+2*i)/2,(a.tly+a.bry+2*o)/2,t,!0)}hide_global_edit_suggestion(){e()("#global_edit_suggestion").css("display","none"),this.hide_id_dialog()}show_id_dialog(t,n,i,o=!1){this.id_dialog_state.visible=!0,this.id_dialog_state.thumbnail=o,this.id_dialog_state.associated_annotation=i;let a=e()("#"+this.id_dialog_config.id),s=e()("#global_edit_suggestion a.reid_suggestion")[0].getBoundingClientRect().height/this.id_dialog_config.outer_diameter;o?(a.hasClass("thumb")||a.addClass("thumb"),e()("#"+this.id_dialog_config.id+".thumb").css({transform:`scale(${s})`})):(e()("#"+this.id_dialog_config.id+".thumb").css({transform:"scale(1.0)"}),a.hasClass("thumb")&&a.removeClass("thumb")),this.viewer_state.visible_dialogs[this.id_dialog_config.id]={left:t/this.config.image_width,top:n/this.config.image_height,pin:"center"},this.reposition_dialogs(),this.set_id_dialog_payload_to_init(i),this.update_id_dialog_display(),o||this.update_id_toolbox_display(),a.css("display","block")}hide_id_dialog(){this.id_dialog_state.visible=!1,this.id_dialog_state.associated_annotation=null,e()("#"+this.id_dialog_config.id).css("display","none")}undo(){if(this.id_dialog_state.thumbnail||this.hide_id_dialog(),this.actions.stream.length>0){!1===this.actions.stream[this.actions.stream.length-1].redo_payload.finished&&this.finish_action(this.actions.stream[this.actions.stream.length-1]),this.actions.undone_stack.push(this.actions.stream.pop());let t=this.undo_action(this.actions.undone_stack[this.actions.undone_stack.length-1]);null!=t&&(this.actions.undone_stack[this.actions.undone_stack.length-1]=t)}}redo(){this.actions.undone_stack.length>0&&this.redo_action(this.actions.undone_stack.pop())}delete_annotation(t,e=null){let n=t,i=!1;null!=e&&(i=!0,n=e.annid),null!=this.annotation_state.active_id&&(this.annotation_state.active_id=null,this.annotation_state.is_in_edit=!1,this.annotation_state.is_in_progress=!1),this.annotations.access[n].deprecated=!0,this.redraw_all_annotations(),this.hide_global_edit_suggestion(),this.record_action({act_type:"delete_annotation",undo_payload:{annid:n},redo_payload:{annid:n}},i)}delete_annotation__undo(t){this.annotations.access[t.annid].deprecated=!1,this.redraw_all_annotations(),this.suggest_edits(this.viewer_state.last_move)}delete_annotation__redo(t){this.delete_annotation(null,t)}get_nearest_active_keypoint(t,e,n,i=null){var o={annid:null,access:null,distance:n/this.get_empirical_scale(),point:null};null==i&&(i=this.annotations.ordering);for(var a=null,s=0;s<i.length;s++){a=i[s];let r=null;switch(this.annotations.access[a].spatial_type){case"bbox":r=l.get_nearest_point_on_bounding_box(t,e,this.annotations.access[a].spatial_payload,n),r.distance<o.distance&&(o.annid=a,o.access=r.access,o.distance=r.distance,o.point=r.point);break;case"polygon":r=l.get_nearest_point_on_polygon(t,e,this.annotations.access[a].spatial_payload,n,!1),r.distance<o.distance&&(o.annid=a,o.access=r.access,o.distance=r.distance,o.point=r.point);break;case"tbar":r=l.get_nearest_point_on_tbar(t,e,this.annotations.access[a].spatial_payload,n),r.distance<o.distance&&(o.annid=a,o.access=r.access,o.distance=r.distance,o.point=r.point)}}return null==o.annid?null:o}get_nearest_segment_point(t,e,n,i=null){var o={annid:null,access:null,distance:n/this.get_empirical_scale(),point:null};null==i&&(i=this.annotations.ordering);for(var a=0;a<i.length;a++){var s=i[a];switch(this.annotations.access[s].spatial_type){case"bbox":break;case"polygon":var r=l.get_nearest_point_on_polygon(t,e,this.annotations.access[s].spatial_payload,n,!0);null!=r.distance&&r.distance<o.distance&&(o.annid=s,o.access=r.access,o.distance=r.distance,o.point=r.point)}}return null==o.annid?null:o}get_line_size(t=!1){let e=this.annotation_state.line_size;return t?("dynamic"==this.annotation_state.size_mode&&(e*=this.viewer_state.zoom_val),e):("fixed"==this.annotation_state.size_mode&&(e/=this.viewer_state.zoom_val),e)}record_action(t,e=!1){e||(this.actions.undone_stack=[]),this.actions.stream.push(t)}record_finish(t){let e=this.actions.stream.length-1;this.actions.stream[e].redo_payload.init_spatial=this.annotations.access[t].spatial_payload,this.actions.stream[e].redo_payload.finished=!0}record_finish_edit(t){let e=this.actions.stream.length-1,n=this.get_with_access_string(t,this.actions.stream[e].redo_payload.edit_candidate.access,!0);this.actions.stream[e].redo_payload.ending_x=n[0],this.actions.stream[e].redo_payload.ending_y=n[1],this.actions.stream[e].redo_payload.finished=!0}record_finish_move(t,e){let n=this.actions.stream.length-1;this.actions.stream[n].redo_payload.diffX=t,this.actions.stream[n].redo_payload.diffY=e,this.actions.stream[n].undo_payload.diffX=-t,this.actions.stream[n].undo_payload.diffY=-e,this.actions.stream[n].redo_payload.finished=!0}undo_action(t){switch(t.act_type){case"begin_annotation":this.begin_annotation__undo(t.undo_payload);break;case"continue_annotation":this.continue_annotation__undo(t.undo_payload);break;case"finish_annotation":this.finish_annotation__undo(t.undo_payload);break;case"edit_annotation":this.edit_annotation__undo(t.undo_payload);break;case"move_annotation":this.move_annotation__undo(t.undo_payload);break;case"delete_annotation":this.delete_annotation__undo(t.undo_payload);break;case"assign_annotation_id":this.assign_annotation_id__undo(t.undo_payload);break;default:console.log("Undo error :(")}}redo_action(t){switch(t.act_type){case"begin_annotation":this.begin_annotation(null,t.redo_payload);break;case"continue_annotation":this.continue_annotation(null,null,t.redo_payload);break;case"finish_annotation":this.finish_annotation(null,t.redo_payload);break;case"edit_annotation":this.edit_annotation__redo(t.redo_payload);break;case"move_annotation":this.move_annotation__redo(t.redo_payload);break;case"delete_annotation":this.delete_annotation__redo(t.redo_payload);break;case"assign_annotation_id":this.assign_annotation_id(null,t.redo_payload);break;default:console.log("Redo error :(")}}finish_action(t){switch(t.act_type){case"begin_annotation":case"edit_annotation":case"move_annotation":this.end_drag(this.viewer_state.last_move);break;default:console.log("Finish error :(")}}begin_annotation(t,e=null){let n=null,i=null,o=null,a=!1,s=null,r=null,c=null,d=null;null==e?(n=this.make_new_annotation_id(),i=this.get_line_size(),o=this.annotation_state.mode,s=this.get_global_mouse_x(t),r=this.get_global_mouse_y(t),c=this.get_init_spatial(s,r,o),d=this.get_init_id_payload(),this.hide_edit_suggestion(),this.hide_global_edit_suggestion()):(n=e.unq_id,i=e.line_size,t=e.mouse_event,o=e.annotation_mode,a=!0,s=e.gmx,r=e.gmy,c=e.init_spatial,d=e.init_payload),this.annotations.access[n]={id:n,new:!0,parent_id:null,created_by:this.config.annotator,created_at:l.get_time(),deprecated:!1,spatial_type:o,spatial_payload:c,classification_payloads:JSON.parse(JSON.stringify(d)),line_size:i,containing_box:{tlx:s,tly:r,brx:s,bry:r}},a&&this.set_id_dialog_payload_to_init(n,d);for(const[t,e]of Object.entries(this.config.annotation_meta))this.annotations.access[n][t]=e;this.annotations.ordering.push(n),"polygon"==o&&this.create_polygon_ender(s,r,n),this.draw_annotation_from_id(n),this.annotation_state.active_id=n,this.annotation_state.is_in_progress=!0,this.record_action({act_type:"begin_annotation",redo_payload:{mouse_event:t,unq_id:n,line_size:i,annotation_mode:o,gmx:s,gmy:r,init_spatial:c,finished:a||"polygon"==o,init_payload:JSON.parse(JSON.stringify(this.id_dialog_state.id_payload))},undo_payload:{ann_str:JSON.stringify(this.annotations.access[n])}},a),a&&("polygon"==o?this.continue_annotation(this.viewer_state.last_move):(e.actid=e.unq_id,this.finish_annotation(null,e),this.rebuild_containing_box(n),this.suggest_edits(this.viewer_state.last_move)))}begin_annotation__undo(t){let e=JSON.parse(t.ann_str).id;this.annotation_state.is_in_progress=!1,this.annotation_state.active_id=null,"polygon"==this.annotations.access[e].spatial_type&&this.destroy_polygon_ender(e);let n=this.annotations.ordering.pop();n!=e&&(console.log("We may have a problem... undo replication"),console.log(n,e)),this.annotations.access.hasOwnProperty(e)?delete this.annotations.access[e]:console.log("We may have a problem... undo replication"),this.redraw_all_annotations(),this.suggest_edits(this.viewer_state.last_move)}update_containing_box(t,e){t[0]<this.annotations.access[e].containing_box.tlx?this.annotations.access[e].containing_box.tlx=t[0]:t[0]>this.annotations.access[e].containing_box.brx&&(this.annotations.access[e].containing_box.brx=t[0]),t[1]<this.annotations.access[e].containing_box.tly?this.annotations.access[e].containing_box.tly=t[1]:t[1]>this.annotations.access[e].containing_box.bry&&(this.annotations.access[e].containing_box.bry=t[1])}rebuild_containing_box(t,e=!1){let n=this.annotations.access[t].spatial_payload[0];this.annotations.access[t].containing_box={tlx:n[0],tly:n[1],brx:n[0],bry:n[1]};let i=this.annotations.access[t].spatial_payload.length;e&&(i-=1);for(var o=1;o<i;o++)this.update_containing_box(this.annotations.access[t].spatial_payload[o],t)}continue_annotation(t,n=!1,i=null){let o=null,a=!1,s=null,r=null;if(null==i?(o=this.annotation_state.active_id,s=this.get_global_mouse_x(t),r=this.get_global_mouse_y(t)):(t=i.mouse_event,n=i.isclick,o=i.actid,a=!0,s=i.gmx,r=i.gmy),o&&o){const i=[s,r];switch(this.annotations.access[o].spatial_type){case"bbox":this.annotations.access[o].spatial_payload[1]=i,this.rebuild_containing_box(o),this.redraw_all_annotations();break;case"polygon":const c=this.annotations.access[o].spatial_payload.length,d=[this.annotations.access[o].spatial_payload[0][0],this.annotations.access[o].spatial_payload[0][1]],u=Math.pow(Math.pow(i[0]-d[0],2)+Math.pow(i[1]-d[1],2),.5),p=e()("#ender_"+o).width()/(2*this.get_empirical_scale());this.annotations.access[o].spatial_payload[c-1]=u<p?d:i,n&&(this.annotations.access[o].spatial_payload.push(i),this.update_containing_box(i,o),this.record_action({act_type:"continue_annotation",redo_payload:{mouse_event:t,isclick:n,actid:o,gmx:s,gmy:r},undo_payload:{actid:o}},a),a&&this.continue_annotation(this.viewer_state.last_move)),this.redraw_all_annotations();break;case"contour":l.l2_norm(i,this.annotations.access[o].spatial_payload[this.annotations.access[o].spatial_payload.length-1])>3&&(this.annotations.access[o].spatial_payload.push(i),this.update_containing_box(i,o),this.redraw_all_annotations());break;case"tbar":this.annotations.access[o].spatial_payload[1]=i,this.rebuild_containing_box(o),this.redraw_all_annotations();break;default:this.raise_error("Annotation mode is not understood",l.elvl_info)}}}continue_annotation__undo(t){this.annotations.access[t.actid].spatial_payload.pop(),this.rebuild_containing_box(t.actid,!0),this.continue_annotation(this.viewer_state.last_move)}begin_edit(t){this.annotation_state.active_id=this.annotation_state.edit_candidate.annid,this.annotation_state.is_in_edit=!0;let e=JSON.parse(JSON.stringify(this.annotation_state.edit_candidate)),n=this.get_with_access_string(this.annotation_state.edit_candidate.annid,e.access);this.edit_annotation(t),this.suggest_edits(t);let i=this.get_global_mouse_x(t),o=this.get_global_mouse_y(t);this.record_action({act_type:"edit_annotation",undo_payload:{actid:this.annotation_state.active_id,edit_candidate:e,starting_x:n[0],starting_y:n[1]},redo_payload:{actid:this.annotation_state.active_id,edit_candidate:e,ending_x:i,ending_y:o,finished:!1}})}edit_annotation(t,e=!1){const n=this.annotation_state.active_id;if(n&&null!==n){var i=[this.get_global_mouse_x(t),this.get_global_mouse_y(t)];switch(this.annotations.access[n].spatial_type){case"bbox":case"polygon":this.set_with_access_string(n,this.annotation_state.edit_candidate.access,i),this.rebuild_containing_box(n),this.redraw_all_annotations(),this.annotation_state.edit_candidate.point=i,this.show_edit_suggestion(this.annotation_state.edit_candidate,!0),this.show_global_edit_suggestion(this.annotation_state.edit_candidate.annid);break;case"contour":this.raise_error("Annotation mode is not currently editable",l.elvl_info);break;case"tbar":this.set_with_access_string(n,this.annotation_state.edit_candidate.access,i),this.rebuild_containing_box(n),this.redraw_all_annotations(),this.annotation_state.edit_candidate.point=i,this.show_edit_suggestion(this.annotation_state.edit_candidate,!0),this.show_global_edit_suggestion(this.annotation_state.edit_candidate.annid);break;default:this.raise_error("Annotation mode is not understood",l.elvl_info)}}}edit_annotation__undo(t){const e=t.actid,n=[t.starting_x,t.starting_y];switch(this.annotations.access[e].spatial_type){case"bbox":case"polygon":case"tbar":this.set_with_access_string(e,t.edit_candidate.access,n,!0),this.rebuild_containing_box(e),this.redraw_all_annotations(),this.suggest_edits(this.viewer_state.last_move)}}edit_annotation__redo(t){const e=t.actid,n=[t.ending_x,t.ending_y],i=this.get_with_access_string(t.actid,t.edit_candidate.access);switch(this.annotations.access[e].spatial_type){case"bbox":this.set_with_access_string(e,t.edit_candidate.access,n),this.rebuild_containing_box(e),this.redraw_all_annotations(),this.suggest_edits(this.viewer_state.last_move);break;case"polygon":case"tbar":this.set_with_access_string(e,t.edit_candidate.access,n,!1),this.rebuild_containing_box(e),this.redraw_all_annotations(),this.suggest_edits(this.viewer_state.last_move)}this.record_action({act_type:"edit_annotation",undo_payload:{actid:t.actid,edit_candidate:JSON.parse(JSON.stringify(t.edit_candidate)),starting_x:i[0],starting_y:i[1]},redo_payload:{actid:t.actid,edit_candidate:JSON.parse(JSON.stringify(t.edit_candidate)),ending_x:t.ending_x,ending_y:t.ending_y,finished:!0}},!0)}begin_move(t){this.annotation_state.active_id=this.annotation_state.move_candidate.annid;let n=JSON.parse(JSON.stringify(this.annotation_state.move_candidate));this.record_action({act_type:"move_annotation",undo_payload:{actid:this.annotation_state.active_id,move_candidate:n,diffX:0,diffY:0},redo_payload:{actid:this.annotation_state.active_id,move_candidate:n,diffX:0,diffY:0,finished:!1}}),e()("#edit_suggestion").css("display","none"),this.move_annotation(t)}move_annotation(t,e=!1){const n=this.annotation_state.active_id;if(n&&null!==n){let e={id:this.annotation_state.move_candidate.annid,diffX:(t.clientX-this.drag_state.move.mouse_start[0])/this.viewer_state.zoom_val,diffY:(t.clientY-this.drag_state.move.mouse_start[1])/this.viewer_state.zoom_val};return this.redraw_all_annotations(e),this.show_global_edit_suggestion(this.annotation_state.move_candidate.annid,e),void this.reposition_dialogs()}}finish_annotation(t,n=null){let i=null,o=!1;switch(null==n?i=this.annotation_state.active_id:(i=n.actid,o=!0),this.annotations.access[i].spatial_type){case"polygon":const t=this.annotations.access[i].spatial_payload.length,n=[this.annotations.access[i].spatial_payload[0][0],this.annotations.access[i].spatial_payload[0][1]];this.annotations.access[i].spatial_payload[t-1]=n,this.redraw_all_annotations(),this.record_action({act_type:"finish_annotation",undo_payload:{actid:i,ender_html:e()("#ender_"+i).outer_html()},redo_payload:{actid:i}},o),e()("#ender_"+i).remove();break;case"bbox":case"contour":case"tbar":this.record_finish(i)}this.compiled_config.single_class_mode&&(this.annotations.access[i].classification_payloads=[{class_id:this.config.class_defs[0].id,confidence:1}]),this.annotation_state.active_id=null,this.annotation_state.is_in_progress=!1}finish_annotation__undo(t){this.annotation_state.is_in_progress=!0,this.annotation_state.active_id=t.actid,e()("#"+this.config.imwrap_id).append(t.ender_html),this.hide_edit_suggestion(),this.hide_global_edit_suggestion(),this.reposition_dialogs();const n=this.annotations.access[t.actid].spatial_payload.length;this.annotations.access[t.actid].spatial_payload[n-1]=[this.get_global_mouse_x(this.viewer_state.last_move),this.get_global_mouse_y(this.viewer_state.last_move)],this.redraw_all_annotations()}finish_edit(t){let e=this.annotation_state.active_id;switch(this.annotations.access[e].spatial_type){case"polygon":case"bbox":case"tbar":this.record_finish_edit(e)}this.annotation_state.active_id=null,this.annotation_state.is_in_edit=!1}finish_move(t){const e=(t.clientX-this.drag_state.move.mouse_start[0])/this.viewer_state.zoom_val,n=(t.clientY-this.drag_state.move.mouse_start[1])/this.viewer_state.zoom_val;for(var i=0;i<this.annotations.access[this.annotation_state.active_id].spatial_payload.length;i++)this.annotations.access[this.annotation_state.active_id].spatial_payload[i][0]+=e,this.annotations.access[this.annotation_state.active_id].spatial_payload[i][1]+=n;this.annotations.access[this.annotation_state.active_id].containing_box.tlx+=e,this.annotations.access[this.annotation_state.active_id].containing_box.brx+=e,this.annotations.access[this.annotation_state.active_id].containing_box.tly+=n,this.annotations.access[this.annotation_state.active_id].containing_box.bry+=n,this.annotations.access[this.annotation_state.active_id].spatial_type,this.annotation_state.active_id=null,this.redraw_all_annotations(),this.record_finish_move(e,n)}move_annotation__undo(t){const e=t.diffX,n=t.diffY;let i=t.move_candidate.annid;for(var o=0;o<this.annotations.access[i].spatial_payload.length;o++)this.annotations.access[i].spatial_payload[o][0]+=e,this.annotations.access[i].spatial_payload[o][1]+=n;this.annotations.access[i].containing_box.tlx+=e,this.annotations.access[i].containing_box.brx+=e,this.annotations.access[i].containing_box.tly+=n,this.annotations.access[i].containing_box.bry+=n,this.redraw_all_annotations(),this.hide_edit_suggestion(),this.hide_global_edit_suggestion(),this.reposition_dialogs(),this.suggest_edits(this.viewer_state.last_move)}move_annotation__redo(t){const e=t.diffX,n=t.diffY;let i=t.move_candidate.annid;for(var o=0;o<this.annotations.access[i].spatial_payload.length;o++)this.annotations.access[i].spatial_payload[o][0]+=e,this.annotations.access[i].spatial_payload[o][1]+=n;this.annotations.access[i].containing_box.tlx+=e,this.annotations.access[i].containing_box.brx+=e,this.annotations.access[i].containing_box.tly+=n,this.annotations.access[i].containing_box.bry+=n,this.redraw_all_annotations(),this.hide_edit_suggestion(),this.hide_global_edit_suggestion(),this.reposition_dialogs(),this.suggest_edits(this.viewer_state.last_move),this.record_action({act_type:"move_annotation",undo_payload:{actid:this.annotation_state.active_id,move_candidate:t.move_candidate,diffX:-e,diffY:-n},redo_payload:{actid:this.annotation_state.active_id,move_candidate:t.move_candidate,diffX:e,diffY:n,finished:!0}},!0)}get_edit_candidates(t,e,n){let i={candidate_ids:[],best:null},o=1/0;for(var a=0;a<this.annotations.ordering.length;a++){let s=this.annotations.ordering[a];if(this.annotations.access[s].deprecated)continue;let r=this.annotations.access[s].containing_box;if(t>=r.tlx-n&&t<=r.brx+n&&e>=r.tly-n&&e<=r.bry+n){i.candidate_ids.push(s);let t=(r.brx-r.tlx)*(r.bry-r.tly);t<o&&(o=t,i.best={annid:s})}}return i}suggest_edits(t=null){null==t&&(t=this.viewer_state.last_move);const n=this.config.edit_handle_size/2,i=this.get_global_mouse_x(t),o=this.get_global_mouse_y(t);if(e()(t.target).hasClass("gedit-target"))return;const a=this.get_edit_candidates(i,o,n);if(null==a.best)return this.hide_global_edit_suggestion(),this.hide_edit_suggestion(),void(this.annotation_state.move_candidate=null);const s=this.get_nearest_active_keypoint(i,o,n,a.candidate_ids);if(null!=s)this.annotation_state.edit_candidate=s,this.show_edit_suggestion(s,!0),a.best=s;else{const t=this.get_nearest_segment_point(i,o,n,a.candidate_ids);null!=t?(this.annotation_state.edit_candidate=t,this.show_edit_suggestion(t,!1),a.best=t):this.hide_edit_suggestion()}this.annotation_state.move_candidate=a.best,this.show_global_edit_suggestion(a.best.annid)}raise_error(t,e=l.elvl_standard){switch(e){case l.elvl_info:console.log("[info] "+t);break;case l.elvl_standard:alert("[error] "+t);break;case l.elvl_fatal:alert("[fatal] "+t)}}get_global_mouse_x(t){const n=this.get_empirical_scale(),i=e()("#"+this.config.annbox_id);return(t.pageX-i.offset().left+i.scrollLeft())/n}get_global_mouse_y(t){const n=this.get_empirical_scale(),i=e()("#"+this.config.annbox_id);return(t.pageY-i.offset().top+i.scrollTop())/n}lookup_id_dialog_mouse_pos(t){let n=e()("#"+this.id_dialog_config.id);const i=t.pageX-n.offset().left-n.width()/2,o=t.pageY-n.offset().top-n.height()/2,a=this.id_dialog_config.inner_prop*this.id_dialog_config.outer_diameter/2,s=.5*this.id_dialog_config.outer_diameter,r=Math.sqrt(Math.pow(i,2)+Math.pow(o,2));if(r>s)return null;if(r<a)return null;let l=this.config.class_ids;return{class_ind:(-1*Math.floor(Math.atan2(o,i)/(2*Math.PI)*l.length)+l.length)%l.length,dist_prop:(r-a)/(s-a)}}set_id_dialog_payload_nopin(t,e){let n=this.config.class_ids;for(var i=0;i<n.length;i++)this.id_dialog_state.id_payload[i]=i==t?{class_id:n[i],confidence:e}:{class_id:n[i],confidence:(1-e)/(n.length-1)}}set_id_dialog_payload_to_init(t,n=null){if(null!=n)this.id_dialog_state.id_payload=JSON.parse(JSON.stringify(n)),this.update_id_toolbox_display();else{if(null!=t){let e=this.annotations.access[t].classification_payloads;if(null!=e)return void(this.id_dialog_state.id_payload=JSON.parse(JSON.stringify(e)))}if(!this.config["soft-id"]){let t=1,n=this.config.class_ids,o=e()("a.tbid-opt.sel").attr("id").split("_"),a=n.indexOf(parseInt(o[o.length-1]));for(var i=0;i<n.length;i++)this.id_dialog_state.id_payload[i]=i==a?{class_id:n[i],confidence:t}:{class_id:n[i],confidence:(1-t)/(n.length-1)}}}}update_id_dialog_display(){const t=this.id_dialog_config.inner_prop*this.id_dialog_config.outer_diameter/2,e=.5*this.id_dialog_config.outer_diameter;let n=this.config.class_ids;for(var i=0;i<n.length;i++){let a=this.id_dialog_state.id_payload[i].confidence,s=i/n.length,r=1/n.length,l=1-r,c=t+a*(e-t)/2,d=a*(e-t),u=2*Math.PI*c*r,p=2*Math.PI*c*l,h=2*Math.PI*c*s;var o=document.getElementById("circ_"+n[i]);o.setAttribute("r",c),o.setAttribute("stroke-dasharray",`${u} ${p}`),o.setAttribute("stroke-dashoffset",h),o.setAttribute("stroke-width",d)}this.redraw_demo()}update_id_toolbox_display(){if(this.config["soft-id"]);else{let n=this.config.class_ids;for(var t=0;t<n.length;t++){let i=n[t];this.id_dialog_state.id_payload[t].confidence>.5&&(e()("#"+this.config.toolbox_id+" a#toolbox_sel_"+i).hasClass("sel")||(e()("#"+this.config.toolbox_id+" a.tbid-opt.sel").attr("href","#"),e()("#"+this.config.toolbox_id+" a.tbid-opt.sel").removeClass("sel"),e()("#"+this.config.toolbox_id+" a#toolbox_sel_"+i).addClass("sel"),e()("#"+this.config.toolbox_id+" a#toolbox_sel_"+i).removeAttr("href")))}}}handle_id_dialog_hover(t){let e=this.lookup_id_dialog_mouse_pos(t);null!=e&&(this.config["soft-id"]||(e.dist_prop=1),this.set_id_dialog_payload_nopin(e.class_ind,e.dist_prop),this.update_id_dialog_display(),this.update_id_toolbox_display())}assign_annotation_id(t=null,e=null){let n=null,i=null,o=!1;if(null==e?(null==t&&(t=this.id_dialog_state.associated_annotation),i=JSON.parse(JSON.stringify(this.annotations.access[t].classification_payloads)),n=JSON.parse(JSON.stringify(this.id_dialog_state.id_payload))):(o=!0,i=JSON.parse(JSON.stringify(e.old_id_payload)),n=JSON.parse(JSON.stringify(e.new_id_payload)),t=e.actid),this.annotations.access[t].classification_payloads=JSON.parse(JSON.stringify(n)),o?this.suggest_edits():this.hide_id_dialog(),this.redraw_all_annotations(),this.id_dialog_state.first_explicit_assignment){let t=this.actions.stream.length;for(var a=0;a<t;a++)if("begin_annotation"==this.actions.stream[t-a-1].act_type){this.actions.stream[t-a-1].redo_payload.init_payload=JSON.parse(JSON.stringify(n));break}}else this.record_action({act_type:"assign_annotation_id",undo_payload:{actid:t,old_id_payload:JSON.parse(JSON.stringify(i))},redo_payload:{actid:t,old_id_payload:JSON.parse(JSON.stringify(i)),new_id_payload:JSON.parse(JSON.stringify(n))}},o)}assign_annotation_id__undo(t){let e=t.actid,n=JSON.parse(JSON.stringify(t.old_id_payload));this.annotations.access[e].classification_payloads=JSON.parse(JSON.stringify(n)),this.redraw_all_annotations(),this.suggest_edits()}handle_id_dialog_click(t){this.handle_id_dialog_hover(t),this.assign_annotation_id(),this.id_dialog_state.first_explicit_assignment=!1,this.suggest_edits(this.viewer_state.last_move)}handle_mouse_down(t){const e=l.get_drag_key_start(t,this);if(null!=e){if("pan"!=e&&"zoom"!=e&&this.id_dialog_state.visible&&!this.id_dialog_state.thumbnail)return;t.preventDefault(),null==this.drag_state.active_key&&this.start_drag(e,t.button,t)}}handle_mouse_move(t){if(this.viewer_state.last_move=t,null==this.drag_state.active_key){if(this.id_dialog_state.visible&&!this.id_dialog_state.thumbnail)return;this.annotation_state.is_in_progress?"polygon"==this.annotation_state.mode&&this.continue_annotation(t):this.suggest_edits(t)}else switch(this.drag_state.active_key){case"pan":this.drag_repan(t);break;case"zoom":this.drag_rezoom(t);break;case"annotation":this.id_dialog_state.visible&&!this.id_dialog_state.thumbnail||this.continue_annotation(t);break;case"edit":this.id_dialog_state.visible&&!this.id_dialog_state.thumbnail||this.edit_annotation(t);break;case"move":this.id_dialog_state.visible&&!this.id_dialog_state.thumbnail||this.move_annotation(t)}}handle_mouse_up(t){t.button==this.drag_state.release_button&&this.end_drag(t)}start_drag(t,n,i){const o=e()("#"+this.config.annbox_id);switch(this.drag_state.active_key=t,this.drag_state.release_button=n,this.drag_state[t].mouse_start=[i.clientX,i.clientY],this.drag_state[t].zoom_val_start=this.viewer_state.zoom_val,this.drag_state[t].offset_start=[o.scrollLeft(),o.scrollTop()],t){case"annotation":"polygon"!=this.annotation_state.mode&&this.begin_annotation(i);break;case"edit":this.begin_edit(i);break;case"move":this.begin_move(i)}}end_drag(t){switch(this.drag_state.active_key){case"annotation":null!=this.annotation_state.active_id?"polygon"!=this.annotation_state.mode||t.target.id=="ender_"+this.annotation_state.active_id||t.target.id=="ender_"+this.annotation_state.active_id+"_inner"?this.finish_annotation(t):this.continue_annotation(t,!0):"polygon"==this.annotation_state.mode&&this.begin_annotation(t);break;case"edit":this.finish_edit(t);break;case"move":this.finish_move(t)}this.drag_state.active_key=null,this.drag_state.release_button=null}drag_repan(t){var n=e()("#"+this.config.annbox_id);const i=t.clientX,o=t.clientY;n.scrollLeft(this.drag_state.pan.offset_start[0]+(this.drag_state.pan.mouse_start[0]-i)),n.scrollTop(this.drag_state.pan.offset_start[1]+(this.drag_state.pan.mouse_start[1]-o))}drag_rezoom(t){const e=t.clientY;this.viewer_state.zoom_val=this.drag_state.zoom.zoom_val_start*Math.pow(1.1,-(e-this.drag_state.zoom.mouse_start[1])/10),this.rezoom(this.drag_state.zoom.mouse_start[0],this.drag_state.zoom.mouse_start[1])}rezoom(t=null,n=null){var i=e()("#"+this.config.imwrap_id),o=e()("#"+this.config.annbox_id);null==t&&(t=o.width()/2),null==n&&(n=o.height()/2);const a=i.width(),s=i.height(),r=o.scrollLeft(),l=o.scrollTop(),c=Math.round(this.config.image_width*this.viewer_state.zoom_val),d=Math.round(this.config.image_height*this.viewer_state.zoom_val);var u=e()("."+this.config.imgsz_class);u.css("width",c+"px"),u.css("height",d+"px");const p=(r+t)*c/a-t,h=(l+n)*d/s-n;o.scrollLeft(p),o.scrollTop(h),this.redraw_demo()}}window.ULabel=l})()})();